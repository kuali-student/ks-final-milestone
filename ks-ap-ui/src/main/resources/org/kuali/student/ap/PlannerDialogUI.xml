<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:p="http://www.springframework.org/schema/p"
	xsi:schemaLocation="http://www.springframework.org/schema/beans
                    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd">

    <bean id="PlannerDialog-FormView" parent="PlannerDialog-FormView-parent"/>
    <bean id="PlannerDialog-FormView-parent" abstract="true" parent="KSAPBaseFormView">

		<property name="id" value="PlannerDialog-FormView" />
        <property name="viewHelperServiceClass"
                  value="org.kuali.student.ap.planner.service.impl.PlannerViewHelperServiceImpl"/>
        <property name="header">
            <bean parent="Uif-HeaderFour">
                <property name="headerText" value="&#160;" />
                <property name="render" value="false" />
            </bean>
        </property>
		<property name="footer.render" value="false" />
		<property name="formClass" value="org.kuali.student.ap.planner.form.PlannerFormImpl" />
		<property name="onSubmitScript" value="ksapSubmitDialog(e);" />
		<property name="cssClasses">
			<list merge="true">
				<value>ksap-view</value>
			</list>
		</property>
		<property name="items">
			<list>
				<ref bean="planner_add_course_page" />
				<ref bean="planner_edit_term_note_page" />
				<ref bean="planner_course_summary_page" />
				<ref bean="planner_copy_course_page" />
				<ref bean="planner_edit_plan_item_page" />
				<ref bean="planner_copy_plan_item_page" />
				<ref bean="planner_move_plan_item_page" />
				<ref bean="planner_delete_plan_item_page" />
                <ref bean="bookmark_delete_course_page" />
			</list>
		</property>
	</bean>

    <!-- Dialog Pages -->

	<bean id="planner_dialog_page" parent="KSAP-PopoverPage" abstract="true">
		<property name="items">
			<list>
				<bean parent="planner_hidden_input" p:propertyName="learningPlanId" />
				<bean parent="planner_hidden_input" p:propertyName="termId" />
				<bean parent="planner_hidden_input" p:propertyName="planItemId" />
				<bean parent="planner_hidden_input" p:propertyName="courseId" />
				<bean parent="planner_hidden_input" p:propertyName="uniqueId" />
			</list>
		</property>
	</bean>

    <bean id="planner_add_course_page" parent="planner_add_course_page-parent"/>
	<bean id="planner_add_course_page-parent" abstract="true" parent="planner_dialog_page">
		<property name="id" value="planner_add_course_page" />
		<property name="innerViewWrapperId" value="planner_add_course_page_inner" />
		<property name="headerText" value="@{#textHelper.getFormattedMessage('dialog.planner.add.header', new Object[]{term.name})}" />
		<property name="items">
			<list merge="true">
				<bean parent="planner_course_code_input" />
                <bean parent="planner_error_placeholder" />
 				<!--<bean parent="planner_course_credit_input">
                     <property name="render" value="true"/>
                     <property name="control">
                         <bean parent="Uif-TextControl"/>
                     </property>
                     <property name="optionsFinder">
                         <null/>
                     </property>
 				</bean>-->
				<bean parent="planner_course_note_input" />
                <bean parent="planner_hidden_input" p:propertyName="backup" />
			</list>
		</property>
		<property name="footer">
			<bean parent="Uif-FooterBase">
				<property name="items">
					<list>
						<bean parent="Uif-VerticalBoxGroup">
							<property name="items">
								<list>
									<bean parent="Uif-HorizontalBoxGroup">
										<property name="items">
											<list>
												<bean parent="planner_submit_button"
                                                      p:actionLabel="@{#textHelper.getText('dialog.planner.add.button')}"
                                                      p:actionScript="ksapSubmitDialog('planner_add_course_page',e);"/>
												<bean parent="planner_cancel_button" />
											</list>
										</property>
									</bean>
								</list>
							</property>
						</bean>
					</list>
				</property>
			</bean>
		</property>
	</bean>

    <bean id="planner_edit_term_note_page" parent="planner_edit_term_note_page-parent"/>
    <bean id="planner_edit_term_note_page-parent" abstract="true" parent="planner_dialog_page">
		<property name="id" value="planner_edit_term_note_page" />
		<property name="innerViewWrapperId" value="planner_edit_term_note_page_inner" />
		<property name="headerText" value="@{#textHelper.getFormattedMessage('dialog.planner.term.edit.header', new Object[]{term.name})}" />
    	<property name="items">
	    	<list merge="true">
				<bean parent="planner_term_note_input" />
			</list>
		</property>
		<property name="footer">
			<bean parent="Uif-FooterBase">
				<property name="items">
					<list>
						<bean parent="Uif-VerticalBoxGroup">
							<property name="items">
								<list>
									<bean parent="Uif-HorizontalBoxGroup">
										<property name="items">
											<list>
												<bean parent="planner_submit_button" p:actionLabel="@{#textHelper.getText('dialog.planner.term.edit.button')}"
                                                      p:actionScript="ksapSubmitDialog('planner_edit_term_note_page',e);"/>
												<bean parent="planner_cancel_button" />
											</list>
										</property>
									</bean>
									<bean parent="planner_error_placeholder" />
								</list>
							</property>
						</bean>
					</list>
				</property>
			</bean>
		</property>
	</bean>

    <bean id="planner_course_summary_page" parent="planner_course_summary_page-parent"/>
    <bean id="planner_course_summary_page-parent" abstract="true" parent="KSAP-PopoverPage">
		<property name="id" value="planner_course_summary_page" />
		<property name="innerViewWrapperId" value="planner_course_summary_page_inner" />
		<property name="headerText" value="@{#textHelper.getText('dialog.planner.summary.header')}" />
	    <property name="items">
    		<list merge="true">
				<ref bean="planner_course_summary_link" />
				<ref bean="planner_course_details_summary_info"/>
			</list>
		</property>
		<property name="footer">
			<bean parent="Uif-FooterBase">
				<property name="items">
					<list>
						<bean parent="planner_course_summary_link">
							<property name="linkText" value="@{#textHelper.getText('dialog.planner.summary.link.text')}"/>
							<property name="title" value="@{#textHelper.getFormattedMessage('dialog.planner.term.edit.header', new Object[]{courseSummaryDetails.code})}}"/>
                            <property name="additionalCssClasses" value="modal-summary-details-link"/>
						</bean>
					</list>
				</property>
			</bean>
		</property>
	</bean>

    <bean id="planner_course_summary_link" parent="planner_course_summary_link-parent"/>
	<bean id="planner_course_summary_link-parent" abstract="true" parent="Uif-Link" p:target="">
		<property name="cssClasses">
			<list merge="true">
				<value>ksap-text-wrap</value>
				<value>ks-Popover-bodyLabel</value>
			</list>
		</property>
		<property name="linkText" value="@{course.code} @{course.courseTitle} (@{creditString})"/>
		<property name="title" value="@{course.code} @{course.courseTitle} (@{creditString})"/>
		<property name="href" value="inquiry?methodToCall=start&amp;viewId=CourseDetails-InquiryView&amp;courseId=@{courseId}"/>
	</bean>

    <bean id="planner_course_details_summary_info" parent="planner_course_details_summary_info-parent"/>
	<bean id="planner_course_details_summary_info-parent" abstract="true" parent="Uif-VerticalBoxGroup">
		<property name="validationMessages.displayMessages" value="false"/>
		<property name="items">
			<list>
				<ref bean="planner_course_summary_details_data" />
				<bean parent="planner_course_note_input">
					<property name="control.disabled" value="true" />
					<property name="control.watermarkText" value="" />
                    <property name="constraintMessage.onDocumentReadyScript" value=""/>
                    <property name="constraintMessage.messageText" value=""/>
				</bean>
			</list>
		</property>
	</bean>

    <bean id="planner_course_summary_details_data" parent="planner_course_summary_details_data-parent"/>
	<bean id="planner_course_summary_details_data-parent" abstract="true" parent="Uif-VerticalBoxGroup">
		<property name="validationMessages.displayMessages" value="false"/>
		<property name="cssClasses">
			<list merge="true">
				<value>ksap-course-details</value>
				<value>ks-Popover-item</value>
				<value>ks-Popover-item--divideBefore</value>
				<value>ks-Popover-item--divideAfter</value>
				<value>ks-Popover-item--secondary</value>
			</list>
		</property>
        <property name="items">
            <list>
                <!-- Scheduled Terms -->
                <bean parent="Uif-CssGridGroup">
                    <property name="render" value="@{courseSummaryDetails.scheduledTerms.size() gt 0}"/>
                    <property name="items">
                        <list>
                            <bean parent="Uif-VerticalBoxSection" p:colSpan="5" p:wrapperCssClasses="ksap-right-labels">
                                <property name="items">
                                    <list>
                                        <bean parent="Uif-Message" p:messageText="@{#textHelper.getText('dialog.planner.summary.scheduled')}">
                                            <property name="cssClasses">
                                                <list merge="true">
                                                    <value>ksap-label</value>
                                                </list>
                                            </property>
                                        </bean>
                                    </list>
                                </property>
                            </bean>
                            <bean parent="Uif-VerticalBoxSection" p:colSpan="7">
                                <property name="items">
                                    <list>
                                        <bean parent="Uif-Message" p:messageText="@{courseSummaryDetails.scheduledTermsForUI}"/>
                                    </list>
                                </property>
                            </bean>
                        </list>
                    </property>
                </bean>
                <!-- Last Offered -->
                <bean parent="Uif-CssGridGroup">
                    <property name="render" value="@{courseSummaryDetails.lastOffered ne null and courseSummaryDetails.scheduledTerms.size() eq 0}"/>
                    <property name="items">
                        <list>
                            <bean parent="Uif-VerticalBoxSection" p:colSpan="5" p:wrapperCssClasses="ksap-right-labels">
                                <property name="items">
                                    <list>
                                        <bean parent="Uif-Message" p:messageText="@{#textHelper.getText('dialog.planner.summary.last.offered')}">
                                            <property name="cssClasses">
                                                <list merge="true">
                                                    <value>ksap-label</value>
                                                </list>
                                            </property>
                                        </bean>
                                    </list>
                                </property>
                            </bean>
                            <bean parent="Uif-VerticalBoxSection" p:colSpan="7">
                                <property name="items">
                                    <list>
                                        <bean parent="Uif-Message" p:messageText="@{courseSummaryDetails.lastOffered}"/>
                                    </list>
                                </property>
                            </bean>
                        </list>
                    </property>
                </bean>
                <!-- Projected Terms -->
                <bean parent="Uif-CssGridGroup">
                    <property name="items">
                        <list>
                            <bean parent="Uif-VerticalBoxSection" p:colSpan="5" p:wrapperCssClasses="ksap-right-labels">
                                <property name="items">
                                    <list>
                                        <bean parent="Uif-Message" p:messageText="@{#textHelper.getText('dialog.planner.summary.requisites')}">
                                            <property name="cssClasses">
                                                <list merge="true">
                                                    <value>ksap-label</value>
                                                </list>
                                            </property>
                                        </bean>
                                    </list>
                                </property>
                            </bean>
                            <bean parent="Uif-VerticalBoxSection" p:colSpan="7">
                                <property name="items">
                                    <list>
                                        <bean p:id="courseRequisites" parent="Uif-MessageField"
                                              p:render="@{courseSummaryDetails.displayNone()}"
                                              p:messageText="@{#textHelper.getText('dialog.planner.summary.requisites.none')}">
                                            <property name="cssClasses">
                                                <list merge="true">
                                                    <value>ksap-data-list</value>
                                                </list>
                                            </property>
                                        </bean>
                                        <bean p:id="coursePreRequisites" parent="Uif-MessageField"
                                              p:render="@{courseSummaryDetails.preRequisitesForUI ne null}"
                                              p:messageText="@{courseSummaryDetails.preRequisitesForUI}">
                                            <property name="cssClasses">
                                                <list merge="true">
                                                    <value>ksap-data-list</value>
                                                </list>
                                            </property>
                                        </bean>
                                        <bean p:id="courseCoRequisites" parent="Uif-MessageField"
                                              p:render="@{courseSummaryDetails.coRequisitesForUI ne null}"
                                              p:messageText="@{courseSummaryDetails.coRequisitesForUI}">
                                            <property name="cssClasses">
                                                <list merge="true">
                                                    <value>ksap-data-list</value>
                                                </list>
                                            </property>
                                        </bean>
                                        <bean p:id="courseAntiRequisites" parent="Uif-MessageField"
                                              p:render="@{courseSummaryDetails.antiRequisitesForUI ne null}"
                                              p:messageText="@{courseSummaryDetails.antiRequisitesForUI}">
                                            <property name="cssClasses">
                                                <list merge="true">
                                                    <value>ksap-data-list</value>
                                                </list>
                                            </property>
                                        </bean>
                                        <bean id="course_req_inactiveCourse_tooltip" parent="Uif-MessageField">
                                            <property name="cssClasses">
                                                <list merge="true">
                                                    <value>ksap-inactive-course-link</value>
                                                </list>
                                            </property>
                                            <property name="toolTip">
                                                <bean parent="Uif-Tooltip" p:tooltipContent=""/>
                                            </property>
                                        </bean>
                                        <bean parent="Uif-Message"
                                              p:messageText="@{#textHelper.getText('dialog.planner.summary.requisites.source')}: @{#textHelper.getText('DETAILS_REQUISITE_SOURCE_NAME')}">
                                            <property name="cssClasses">
                                                <list merge="true">
                                                    <value>ksap-source</value>
                                                </list>
                                            </property>
                                        </bean>
                                    </list>
                                </property>
                            </bean>
                        </list>
                    </property>
                </bean>
            </list>
        </property>
	</bean>

    <bean id="planner_edit_plan_item_page" parent="planner_edit_plan_item_page-parent"/>
	<bean id="planner_edit_plan_item_page-parent" abstract="true" parent="planner_dialog_page">
		<property name="id" value="planner_edit_plan_item_page" />
		<property name="innerViewWrapperId" value="planner_edit_plan_item_page_inner" />
		<property name="headerText" value="@{#textHelper.getText('dialog.planner.edit.header1')}
		                                    @{course.code} @{termId eq null
		                                    ? #textHelper.getText('dialog.planner.edit.header2')
		                                    : #textHelper.getFormattedMessage('dialog.planner.edit.header3', new Object[]{term.name})}" />
		<property name="items">
			<list merge="true">
				<!--<bean parent="planner_course_credit_input" />-->
				<bean parent="planner_course_note_input" />
			</list>
		</property>
		<property name="footer">
			<bean parent="Uif-FooterBase">
				<property name="items">
					<list>
						<bean parent="Uif-VerticalBoxGroup">
							<property name="items">
								<list>
									<bean parent="Uif-HorizontalBoxGroup">
										<property name="items">
											<list>
												<bean parent="planner_submit_button" p:actionLabel="@{#textHelper.getText('dialog.planner.edit.button')}"
                                                      p:actionScript="ksapSubmitDialog('planner_edit_plan_item_page',e);"/>
												<bean parent="planner_cancel_button" />
											</list>
										</property>
									</bean>
									<bean parent="planner_error_placeholder" />
								</list>
							</property>
						</bean>
					</list>
				</property>
			</bean>
		</property>
	</bean>

    <bean id="planner_copy_course_page" parent="planner_copy_course_page-parent"/>
	<bean id="planner_copy_course_page-parent" abstract="true" parent="planner_dialog_page">
		<property name="id" value="planner_copy_course_page" />
		<property name="innerViewWrapperId" value="planner_copy_course_page_inner" />
		<property name="headerText" value="@{#textHelper.getFormattedMessage('dialog.planner.copy.course.header', new Object[]{course.code})}" />
		<property name="items">
			<list merge="true">
				<bean parent="planner_term_input" />
<!-- 				<bean parent="planner_course_credit_input" /> -->
				<bean parent="planner_course_note_input" />
			</list>
		</property>
		<property name="footer">
			<bean parent="Uif-FooterBase">
				<property name="items">
					<list>
						<bean parent="Uif-VerticalBoxGroup">
							<property name="items">
								<list>
									<bean parent="Uif-HorizontalBoxGroup">
										<property name="items">
											<list>
												<bean parent="planner_submit_button" p:actionLabel="@{#textHelper.getText('dialog.planner.copy.course.button')}"
                                                      p:actionScript="ksapSubmitDialog('planner_copy_course_page',e);"/>
												<bean parent="planner_cancel_button" />
											</list>
										</property>
									</bean>
									<bean parent="planner_error_placeholder" />
								</list>
							</property>
						</bean>
					</list>
				</property>
			</bean>
		</property>
	</bean>

    <bean id="planner_copy_plan_item_page" parent="planner_copy_plan_item_page-parent"/>
	<bean id="planner_copy_plan_item_page-parent" abstract="true" parent="planner_dialog_page">
		<property name="id" value="planner_copy_plan_item_page" />
		<property name="innerViewWrapperId" value="planner_copy_plan_item_page_inner" />
		<property name="headerText" value="@{#textHelper.getFormattedMessage('dialog.planner.copy.term.header', new Object[]{course.code})}" />
		<property name="items">
			<list merge="true">
				<bean parent="planner_term_input" />
			</list>
		</property>
		<property name="footer">
			<bean parent="Uif-FooterBase">
				<property name="items">
					<list>
						<bean parent="Uif-VerticalBoxGroup">
							<property name="items">
								<list>
									<bean parent="Uif-HorizontalBoxGroup">
										<property name="items">
											<list>
												<bean parent="planner_submit_button" p:actionLabel="@{#textHelper.getText('dialog.planner.copy.term.button')}"
                                                      p:actionScript="ksapSubmitDialog('planner_copy_plan_item_page',e);"/>
												<bean parent="planner_cancel_button" />
											</list>
										</property>
									</bean>
									<bean parent="planner_error_placeholder" />
								</list>
							</property>
						</bean>
					</list>
				</property>
			</bean>
		</property>
	</bean>

    <bean id="planner_move_plan_item_page" parent="planner_move_plan_item_page-parent"/>
	<bean id="planner_move_plan_item_page-parent" abstract="true" parent="planner_dialog_page">
		<property name="id" value="planner_move_plan_item_page" />
		<property name="innerViewWrapperId" value="planner_move_plan_item_page_inner" />
		<property name="headerText" value="@{#textHelper.getFormattedMessage('dialog.planner.move.header', new Object[]{course.code})}" />
		<property name="items">
			<list merge="true">
				<bean parent="planner_term_input" />
			</list>
		</property>
		<property name="footer">
			<bean parent="Uif-FooterBase">
				<property name="items">
					<list>
						<bean parent="Uif-VerticalBoxGroup">
							<property name="items">
								<list>
									<bean parent="Uif-HorizontalBoxGroup">
										<property name="items">
											<list>
												<bean parent="planner_submit_button" p:actionLabel="@{#textHelper.getText('dialog.planner.move.button')}"
                                                      p:actionScript="ksapSubmitDialog('planner_move_plan_item_page',e);"/>
												<bean parent="planner_cancel_button" />
											</list>
										</property>
									</bean>
									<bean parent="planner_error_placeholder" />
								</list>
							</property>
						</bean>
					</list>
				</property>
			</bean>
		</property>
	</bean>

    <bean id="planner_delete_plan_item_page" parent="planner_delete_plan_item_page-parent"/>
	<bean id="planner_delete_plan_item_page-parent" abstract="true" parent="planner_dialog_page">
		<property name="id" value="planner_delete_plan_item_page" />
		<property name="innerViewWrapperId" value="planner_delete_plan_item_page_inner" />
		<property name="headerText" value="@{#textHelper.getText('dialog.planner.delete.header1')}
		                                    @{course.code} @{termId eq null
		                                    ? #textHelper.getText('dialog.planner.delete.header2')
		                                    : #textHelper.getFormattedMessage('dialog.planner.edit.header3', new Object[]{term.name})}" />
		<property name="items">
			<list merge="true">
				<bean parent="Uif-Message" p:cssClasses="ks-Popover-bodyLabel"
						p:messageText="@{#textHelper.getFormattedMessage('dialog.planner.delete.message', new Object[]{course.code})}"/>
			</list>
		</property>
		<property name="footer">
			<bean parent="Uif-FooterBase">
				<property name="items">
					<list>
						<bean parent="Uif-VerticalBoxGroup">
							<property name="items">
								<list>
									<bean parent="Uif-HorizontalBoxGroup">
										<property name="items">
											<list>
												<bean parent="planner_submit_button" p:actionLabel="@{#textHelper.getText('dialog.planner.delete.button')}"
                                                      p:actionScript="ksapSubmitDialog('planner_delete_plan_item_page',e);"/>
												<bean parent="planner_cancel_button" />
											</list>
										</property>
									</bean>
									<bean parent="planner_error_placeholder" />
								</list>
							</property>
						</bean>
					</list>
				</property>
			</bean>
		</property>
	</bean>

    <!-- Dialogs for other pages-->

    <bean id="bookmark_add_course_page" parent="bookmark_add_course_page-parent" p:additionalCssClasses="ksap-dialog-centered"/>
    <bean id="bookmark_add_course_page-parent" abstract="true" parent="KSAP-PopoverPage">
        <property name="id" value="bookmark_add_course_page" />
        <property name="innerViewWrapperId" value="bookmark_add_course_page_inner" />
        <property name="headerText" value="@{#textHelper.getText('dialog.bookmark.add.header')}" />
        <property name="items">
            <list merge="true">
                <bean parent="Uif-Message" p:messageText="@{course.code} @{course.courseTitle} (@{creditString})"  p:cssClasses="bold"/>
                <ref bean="planner_course_summary_details_data"/>
                <bean parent="planner_term_input_field"/>
                <!--<bean parent="planner_course_credit_input_field" />-->
                <bean parent="planner_course_note_input" />
                <bean parent="planner_backup_input"/>
                <!--<bean parent="planner_bookmark_input"/>-->
                <bean parent="planner_hidden_input" p:propertyName="courseId" />
                <bean parent="planner_hidden_input" p:propertyName="uniqueId" />
            </list>
        </property>
        <property name="footer">
            <bean parent="Uif-FooterBase">
                <property name="items">
                    <list>
                        <bean parent="Uif-VerticalBoxGroup">
                            <property name="items">
                                <list>
                                    <bean parent="Uif-HorizontalBoxGroup">
                                        <property name="items">
                                            <list>
                                                <bean parent="planner_submit_button" p:actionLabel="@{#textHelper.getText('dialog.bookmark.add.button')}"
                                                      p:actionScript="ksapSubmitDialog('bookmark_add_course_page',e);"/>
                                                <bean parent="planner_cancel_button" />
                                            </list>
                                        </property>
                                    </bean>
                                    <bean parent="planner_error_placeholder" />
                                </list>
                            </property>
                        </bean>
                        <bean p:id="planStatusMessages" parent="Uif-HorizontalBoxGroup">
                            <property name="render"
                                      value="@{!#empty(plannedMessage)}"/>
                            <property name="cssClasses">
                                <list>
                                    <value>uif-validationMessages</value>
                                    <value>uif-groupValidationMessages</value>
                                    <value>uif-pageValidationMessages</value>
                                    <value>uif-pageValidationMessages-info</value>
                                </list>
                            </property>
                            <property name="items">
                                <list>
                                    <bean parent="Uif-Image"
                                          p:source="../themes/ksboot/images/validation/info.png">
                                        <property name="render"
                                                  value="@{!#empty(plannedMessage)}"/>
                                        <property name="cssClasses">
                                            <list merge="true">
                                                <value>uif-validationImage</value>
                                            </list>
                                        </property>
                                    </bean>
                                    <bean p:id="plannedMessage" parent="Uif-Message">
                                        <property name="render"
                                                  value="@{!#empty(plannedMessage)}"/>
                                        <property name="messageText"
                                                  value="@{plannedMessage}"/>
                                    </bean>
                                </list>
                            </property>
                        </bean>
                    </list>
                </property>
            </bean>
        </property>
    </bean>

    <bean id="bookmark_delete_course_page" parent="bookmark_delete_course_page-parent" p:additionalCssClasses="ksap-dialog-centered"/>
    <bean id="bookmark_delete_course_page-parent" abstract="true" parent="planner_dialog_page">
        <property name="id" value="bookmark_delete_course_page" />
        <property name="innerViewWrapperId" value="bookmark_delete_course_page_inner" />
        <property name="headerText" value="@{#textHelper.getText('dialog.bookmark.remove.header')}" />
        <property name="items">
            <list merge="true">
                <bean parent="Uif-Message" p:messageText="@{course.code} @{course.courseTitle} (@{creditString} @{#textHelper.getText('dialog.bookmark.remove.message1')})"/>
                <bean parent="Uif-Message" p:messageText="@{#textHelper.getFormattedMessage('dialog.bookmark.remove.message2', new Object[]{course.code})}"/>
            </list>
        </property>
        <property name="footer">
            <bean parent="Uif-FooterBase">
                <property name="items">
                    <list>
                        <bean parent="Uif-VerticalBoxGroup">
                            <property name="items">
                                <list>
                                    <bean parent="Uif-HorizontalBoxGroup">
                                        <property name="items">
                                            <list>
                                                <bean parent="planner_submit_button" p:actionLabel="@{#textHelper.getText('dialog.bookmark.remove.button')}"
                                                      p:actionScript="ksapSubmitDialog('bookmark_delete_course_page',e);"/>
                                                <bean parent="planner_cancel_button" />
                                            </list>
                                        </property>
                                    </bean>
                                    <bean parent="planner_error_placeholder" />
                                </list>
                            </property>
                        </bean>
                    </list>
                </property>
            </bean>
        </property>
    </bean>

    <!-- Define "Add to Plan" popover on all pages  -->
    <bean id="KSAP-AddToPlanDialog-FormView" parent="KSAP-AddToPlanDialog-FormView-parent"/>
    <bean id="KSAP-AddToPlanDialog-FormView-parent" abstract="true" parent="KSAP-BaseDialog-FormView">
        <property name="id" value="KSAP-AddToPlanDialog-FormView" />
        <property name="formClass" value="org.kuali.student.ap.planner.form.AddCourseToPlanForm" />
        <property name="page">
            <bean parent="KSAP-PopoverPage" p:additionalCssClasses="ksap-dialog-centered">
                <property name="id" value="course_add_course_page" />
                <property name="innerViewWrapperId" value="course_add_course_page_inner" />
                <property name="headerText" value="@{#textHelper.getText('dialog.all.add.header')}" />
                <property name="footer">
                    <bean parent="Uif-FooterBase">
                        <property name="items">
                            <list>
                                <bean parent="Uif-VerticalBoxGroup">
                                    <property name="items">
                                        <list>
                                            <bean parent="Uif-HorizontalBoxGroup">
                                                <property name="items">
                                                    <list>
                                                        <bean parent="planner_submit_button"
                                                              p:actionLabel="@{#textHelper.getText('dialog.all.add.button')}"
                                                              p:actionScript="ksapSubmitDialog('course_add_course_page',e);"/>
                                                        <bean parent="planner_cancel_button" />
                                                    </list>
                                                </property>
                                            </bean>
                                            <bean parent="planner_error_placeholder" />
                                        </list>
                                    </property>
                                </bean>
                            </list>
                        </property>
                    </bean>
                </property>
            </bean>
        </property>
        <property name="items">
            <list>
                <bean parent="Uif-Message"
                      p:messageText="@{courseCode} @{courseTitle} @{#textHelper.getFormattedMessage('dialog.all.add.message', new Object[]{creditsDisplay})}"
                      p:additionalCssClasses="dialog-add-title"/>
                <ref bean="planner_course_summary_details_data"/>
                <bean parent="planner_term_input_field"/>
                <!--<bean parent="planner_course_credit_input_field" />-->
                <bean parent="planner_course_note_input" />
                <bean parent="planner_backup_input"/>
                <!--<bean parent="planner_bookmark_input"/>-->
                <bean parent="planner_hidden_input" p:propertyName="courseId" />
                <bean parent="planner_hidden_input" p:propertyName="uniqueId" />
            </list>
        </property>
    </bean>


	<!-- Dialog Input Components-->

    <bean id="planner_hidden_input" parent="KS-Uif-InputField" abstract="true">
        <property name="cssClasses">
            <list merge="true">
                <value>ksap-hide</value>
            </list>
        </property>
		<property name="hidden" value="true" />
		<property name="control">
			<bean parent="KS-Uif-HiddenControl" />
		</property>
	</bean>

	<bean id="planner_dialog_input" parent="KS-Uif-InputField-LabelTop" abstract="true">
		<property name="fieldLabel.render" value="true" />
	</bean>

    <bean id="planner_term_input_field" parent="planner_term_input_field-parent"/>
    <bean id="planner_term_input_field-parent" parent="Uif-HorizontalBoxGroup">
        <property name="items">
            <list>
                <!-- Term & Year -->
                <bean parent="Uif-CssGridGroup">
                    <property name="items">
                        <list>
                            <bean parent="Uif-VerticalBoxSection" p:colSpan="5" p:wrapperCssClasses="ksap-right-labels">
                                <property name="items">
                                    <list>
                                        <bean parent="Uif-Message" p:messageText="@{#textHelper.getText('dialog.component.term.label')}">
                                            <property name="cssClasses">
                                                <list merge="true">
                                                    <value>ksap-label</value>
                                                </list>
                                            </property>
                                        </bean>
                                    </list>
                                </property>
                            </bean>
                            <bean parent="Uif-VerticalBoxSection" p:colSpan="7">
                                <property name="items">
                                    <list>
                                        <bean parent="planner_term_input" p:fieldLabel.render="false">
                                            <property name="propertyName" value="termId" />
                                            <property name="instructionalText" value="" />
                                        </bean>
                                        <bean parent="Uif-Message" p:messageText="@{#textHelper.getText('dialog.component.term.note')}">
                                            <property name="cssClasses">
                                                <list merge="true">
                                                    <value>ksap-source</value>
                                                </list>
                                            </property>
                                        </bean>
                                    </list>
                                </property>
                            </bean>
                        </list>
                    </property>
                </bean>
            </list>
        </property>
    </bean>

    <bean id="planner_term_input" parent="planner_term_input-parent" p:id="planner_term_input"/>
	<bean id="planner_term_input-parent" abstract="true" parent="planner_dialog_input">
		<property name="propertyName" value="targetTermId" />
		<property name="label" value="@{#textHelper.getText('dialog.component.term2.label')}" />
        <property name="fieldLabel.renderColon" value="false"/>
		<property name="instructionalText" value="@{#textHelper.getText('dialog.component.term2.instructions')}" />
		<property name="control">
			<bean parent="KS-Uif-DropdownControl">
                <property name="onDocumentReadyScript" value="ksapDisableTermsAsPlanned('#planner_term_input')"/>
            </bean>
		</property>
		<property name="optionsFinder">
			<bean class="org.kuali.student.ap.planner.util.TermsListBuilder" p:addBlankOption="false"/>
		</property>
        <property name="dataAttributes">
            <map>
                <entry key="plannedTermIds" value="@{plannedTermIds}"/>
            </map>
        </property>
	</bean>

    <bean id="planner_course_code_input" parent="planner_course_code_input-parent"/>
	<bean id="planner_course_code_input-parent" abstract="true" parent="planner_dialog_input" p:additionalCssClasses="ksap-dialog-courseCode">
        <property name="propertyName" value="courseCd" />
		<property name="label" value="@{#textHelper.getText('dialog.component.course.code.label')}" />
        <property name="id" value="@{term.code}_@{backup == false ? 'planned' : 'backup'}_code" />
		<property name="control">
			<bean parent="KS-Uif-TextControl">
                <property name="onDocumentReadyScript" value="jQuery('.ksap-dialog-courseCode input').focus();" />
				<property name="watermarkText" value="@{#textHelper.getText('dialog.component.course.code.watermark')}" />
				<property name="maxLength" value="50" />
				<property name="size" value ="25"/>
			</bean>
		</property>
	</bean>

    <!--  KSAP-1828
    <bean id="planner_course_credit_input_field" parent="planner_course_credit_input_field-parent"/>
    <bean id="planner_course_credit_input_field-parent" parent="Uif-HorizontalBoxGroup">
        <property name="render" value="@{variableCredit}"/>
        <property name="items">
            <list>
                <bean parent="Uif-CssGridGroup">
                    <property name="items">
                        <list>
                            <bean parent="Uif-VerticalBoxSection" p:colSpan="5" p:wrapperCssClasses="ksap-right-labels">
                                <property name="items">
                                    <list>
                                        <bean parent="Uif-Message" p:messageText="Credits">
                                            <property name="cssClasses">
                                                <list merge="true">
                                                    <value>ksap-label</value>
                                                </list>
                                            </property>
                                        </bean>
                                    </list>
                                </property>
                            </bean>
                            <bean parent="Uif-VerticalBoxSection" p:colSpan="7">
                                <property name="items">
                                    <list>
                                        <bean parent="planner_course_credit_input" p:fieldLabel.render="false"/>
                                    </list>
                                </property>
                            </bean>
                        </list>
                    </property>
                </bean>
            </list>
        </property>
    </bean>
    -->

    <!--
    Remove credit input for quick add dialog
    <bean id="planner_course_credit_input" parent="planner_course_credit_input-parent"/>
 	<bean id="planner_course_credit_input-parent" abstract="true" parent="planner_dialog_input">
        <property name="render" value="@{variableCredit}"/>
 		<property name="propertyName" value="courseCredit" />
 		<property name="label" value="@{#textHelper.getText('dialog.component.credits.label')}" />
        <property name="fieldLabel.renderColon" value="false"/>
        <property name="control">
            <bean parent="KS-Uif-DropdownControl"/>
        </property>
        <property name="optionsFinder">
            <bean class="org.kuali.student.ap.planner.util.CourseCreditListBuilder">
                <property name="addBlankOption" value="false"/>
            </bean>
        </property>
 	</bean>
    -->

    <bean id="planner_course_note_input" parent="planner_course_note_input-parent"/>
	<bean id="planner_course_note_input-parent" abstract="true" parent="planner_dialog_input">
		<property name="additionalCssClasses" value="ks-plan-Note" />
		<property name="propertyName" value="courseNote" />
		<property name="label" value="@{#textHelper.getText('dialog.component.course.notes.label')}" />
        <property name="fieldLabel.renderColon" value="false"/>
        <property name="id" value="@{term.code}_@{backup == false ? 'planned' : 'backup'}_notes" />
		<property name="control">
			<bean parent="Uif-TextAreaControl" p:watermarkText="@{#textHelper.getText('dialog.component.course.notes.watermark')}"
				p:maxLength="500">
				<property name="cssClasses">
					<list merge="true">
						<value>ksap-characterCount</value>
						<value>ks-plan-Note-input</value>
					</list>
				</property>
			</bean>
		</property>
		<property name="constraintMessage">
			<bean parent="KSAP-Message" p:messageText="@{#textHelper.getText('dialog.component.course.notes.constraint')}">
				<property name="onDocumentReadyScript"
					      value="setNoteMessageLength(jQuery('.ksap-characterCount'), {maxLength:500});" />
				<property name="cssClasses">
					<list merge="true">
						<value>counter</value>
						<value>ks-plan-Note-counter</value>
					</list>
				</property>
			</bean>
		</property>
	</bean>

    <bean id="planner_term_note_input" parent="planner_term_note_input-parent"/>
	<bean id="planner_term_note_input-parent" abstract="true" parent="planner_dialog_input">
		<property name="additionalCssClasses" value="ks-plan-Note" />
		<property name="propertyName" value="termNote" />
		<property name="label" value="@{#textHelper.getText('dialog.component.term.notes.label')}" />
		<property name="control">
			<bean parent="Uif-TextAreaControl" p:watermarkText="@{#textHelper.getText('dialog.component.term.notes.watermark')}"
				p:maxLength="500">
				<property name="cssClasses">
					<list merge="true">
						<value>ksap-characterCount</value>
						<value>ks-plan-Note-input</value>
					</list>
				</property>
			</bean>
		</property>
		<property name="constraintMessage">
			<bean parent="KSAP-Message" p:messageText="@{#textHelper.getText('dialog.component.term.notes.constraint')}">
				<property name="onDocumentReadyScript"
					      value="setNoteMessageLength(jQuery('.ksap-characterCount'), {maxLength:500});" />
				<property name="cssClasses">
					<list merge="true">
						<value>counter</value>
						<value>ks-plan-Note-counter</value>
					</list>
				</property>
			</bean>
		</property>
	</bean>

    <bean id="planner_backup_input"  parent="Uif-HorizontalBoxGroup">
        <property name="items">
            <list>
                <bean parent="Uif-CheckboxInputField" p:propertyName="backup"
                      p:fieldLabel.renderColon="false" p:control.checkboxLabel="@{#textHelper.getText('dialog.component.backup.label')}"/>
            </list>
        </property>
    </bean>

<!-- KSAP-1775
    <bean id="planner_bookmark_input"  parent="Uif-HorizontalBoxGroup">
        <property name="render" value="@{bookmarked}"/>
        <property name="items">
            <list>
                <bean parent="Uif-CheckboxInputField" p:propertyName="keepBookmarked"
                      p:fieldLabel.renderColon="false" p:defaultValue="false"
                      p:control.checkboxLabel="Keep the course bookmarked"/>
            </list>
        </property>
    </bean>
-->
	<bean id="planner_error_placeholder" parent="Uif-HorizontalBoxGroup"
			p:hidden="true" p:additionalCssClasses="ksap-feedback,error,ks-Popover-error">
        <!-- Adding some content here since as of Rice 2.4, KRAD seems to purge empty elements from the DOM.
            Since we were adding content later via javascript, we needed the element to be present -->
        <property name="items">
            <list>
                <bean parent="Uif-Message" p:messageText=""/>
            </list>
        </property>
    </bean>

	<bean id="planner_submit_button" parent="Uif-PrimaryActionButton" p:id="submit_dialog_button"
		p:additionalCssClasses="ks-Button ks-Button--primary"/>

	<bean id="planner_cancel_button" parent="Uif-ActionLink"
		p:actionLabel="@{#textHelper.getText('dialog.component.cancel')}" >
		<property name="actionScript" value="fnClosePopup();" />
	</bean>

    <bean id="KSAP-BaseDialog-FormView" parent="KSAP-BaseDialog-FormView-parent"/>
    <bean id="KSAP-BaseDialog-FormView-parent" abstract="true" parent="KSAPBaseFormView">
        <property name="viewHelperServiceClass"
                  value="org.kuali.student.ap.planner.service.impl.PlannerViewHelperServiceImpl"/>
        <property name="id" value="BaseDialog-FormView" />
        <property name="header">
            <bean parent="Uif-HeaderFour">
                <property name="headerText" value="&#160;" />
                <property name="render" value="false" />
            </bean>
        </property>
        <property name="footer.render" value="false" />
        <property name="formClass" value="org.kuali.student.ap.planner.form.PlannerFormImpl" />
        <property name="singlePageView" value="true" />
        <property name="onSubmitScript" value="ksapSubmitDialog(e);" />
        <property name="cssClasses">
            <list merge="true">
                <value>ksap-view</value>
            </list>
        </property>
    </bean>



</beans>
