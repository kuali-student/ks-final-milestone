<?xml version="1.0" encoding="UTF-8"?>
<!--

    Copyright 2010 The Kuali Foundation Licensed under the
    Educational Community License, Version 2.0 (the "License"); you may
    not use this file except in compliance with the License. You may
    obtain a copy of the License at

    http://www.osedu.org/licenses/ECL-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an "AS IS"
    BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
    or implied. See the License for the specific language governing
    permissions and limitations under the License.

-->

<data xmlns="ns:workflow" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="ns:workflow resource:WorkflowData">
    <ruleAttributes xmlns="ns:workflow/RuleAttribute"
                    xsi:schemaLocation="ns:workflow/RuleAttribute resource:RuleAttribute">
        <!-- this attribute should have already been in the system from the Rice base data -->
        <ruleAttribute>
            <name>DataDictionarySearchableAttribute</name>
            <className>org.kuali.rice.krad.workflow.attribute.DataDictionarySearchableAttribute</className>
            <label>Data Dictionary Searchable Attribute</label>
            <type>SearchableAttribute</type>
        </ruleAttribute>
    </ruleAttributes>
    <documentTypes xmlns="ns:workflow/DocumentType" xsi:schemaLocation="ns:workflow/DocumentType resource:DocumentType">
        <documentType>
            <name>KualiStudentDocument</name>
            <parent>KualiDocument</parent>
            <description>Kuali Student Parent Document</description>
            <label>Kuali Student Parent Document</label>
            <active>true</active>
        </documentType>
        <!-- BEGIN TEST DOCUMENT FOR HIERARCHY ROUTING -->
        <!--
        <documentType>
            <name>HierarchyNodeDocumentTest</name>
            <parent>KualiStudentDocument</parent>
            <label>HierarchyNodeDocumentTest</label>
            <postProcessorName>org.kuali.rice.kew.postprocessor.DefaultPostProcessor</postProcessorName>
            <active>true</active>
            <policies>
                <policy>
                    <name>DEFAULT_APPROVE</name>
                    <value>true</value>
                </policy>
            </policies>
            <routePaths>
                <routePath>
                    <start name="PreRoute" nextNode="HierarchyNode"/>
                    <role name="HierarchyNode"/>
                </routePath>
            </routePaths>
            <routeNodes>
                <start name="PreRoute">
                    <activationType>P</activationType>
                    <mandatoryRoute>false</mandatoryRoute>
                    <finalApproval>false</finalApproval>
                </start>
                <role name="HierarchyNode">
                    <qualifierResolverClass>org.kuali.rice.kew.role.NullQualifierResolver</qualifierResolverClass>
                    <activationType>P</activationType>
                </role>
            </routeNodes>
        </documentType>
        -->
        <!-- END TEST DOCUMENT FOR HIERARCHY ROUTING -->
        <!-- BEGIN CREDIT COURSE DOCUMENTS -->
        <documentType>
            <name>CluParentDocument</name>
            <parent>KualiStudentDocument</parent>
            <description>Kuali Student Clu Parent Document</description>
            <label>Kuali Student Clu Parent Document</label>
            <active>true</active>
            <attributes>
                <attribute>
                    <name>DataDictionarySearchableAttribute</name>
                </attribute>
            </attributes>
            <routingVersion>2</routingVersion>
        </documentType>

        <documentType>
            <name>CluCreditCourseParentDocument</name>
            <parent>CluParentDocument</parent>
            <description>Kuali Student Credit Course Parent Document</description>
            <label>Kuali Student Credit Course Parent Document</label>
            <docHandler>${kr.krad.url}/courses?methodToCall=docHandler</docHandler>
            <active>true</active>
            <routingVersion>2</routingVersion>
        </documentType>

        <documentType>
            <name>CluMajorDisciplineParentDocument</name>
            <parent>CluParentDocument</parent>
            <description>Kuali Student Major Discipline Parent Document</description>
            <label>Kuali Student Major Discipline Parent Document</label>
            <docHandler>
                ${lum.application.url}/org.kuali.student.lum.lu.ui.main.LUMMain/LUMMain.jsp?view=PROGRAM_PROPOSAL&amp;idType=documentNumber
            </docHandler>
            <active>true</active>
        </documentType>

        <documentType>
            <name>kuali.proposal.type.course.retire</name>
            <parent>CluCreditCourseParentDocument</parent>
            <description>A proposal to retire an existing credit course</description>
            <label>Credit Course Retire Proposal</label>
            <docHandler>${kr.krad.url}/retireCourse?methodToCall=docHandler</docHandler>
            <active>true</active>
            <routingVersion>2</routingVersion>
            <routePaths>
                <routePath>
                    <start name="PreRoute" nextNode="Department Review"/>
                    <role name="Department Review" nextNode="Division Review"/>
                    <role name="Division Review" nextNode="College Review"/>
                    <role name="College Review" nextNode="Senate Review"/>
                    <role name="Senate Review" nextNode="Publication Review"/>
                    <role name="Publication Review"/>
                </routePath>
            </routePaths>
            <routeNodes>
                <start name="PreRoute">
                    <activationType>P</activationType>
                    <mandatoryRoute>false</mandatoryRoute>
                    <finalApproval>false</finalApproval>
                </start>
                <role name="Department Review">
                    <activationType>P</activationType>
                    <qualifierResolverClass>org.kuali.student.lum.workflow.qualifierresolver.CocOrgTypeDataDictionaryQualifierResolver</qualifierResolverClass>
                    <organizationTypeCode>kuali.org.Department</organizationTypeCode>
                    <organizationIdQualifierKey>department</organizationIdQualifierKey>
                </role>
                <role name="Division Review">
                    <activationType>P</activationType>
                    <qualifierResolverClass>org.kuali.student.lum.workflow.qualifierresolver.CocOrgTypeDataDictionaryQualifierResolver</qualifierResolverClass>
                    <organizationTypeCode>kuali.org.Division</organizationTypeCode>
                    <organizationIdQualifierKey>division</organizationIdQualifierKey>
                </role>
                <role name="College Review">
                    <activationType>P</activationType>
                    <qualifierResolverClass>org.kuali.student.lum.workflow.qualifierresolver.CocOrgTypeDataDictionaryQualifierResolver</qualifierResolverClass>
                    <organizationTypeCode>kuali.org.College</organizationTypeCode>
                    <organizationIdQualifierKey>college</organizationIdQualifierKey>
                </role>
                <role name="Senate Review">
                    <activationType>P</activationType>
                    <qualifierResolverClass>org.kuali.student.lum.workflow.qualifierresolver.StaticOrgDataDictionaryQualifierResolver</qualifierResolverClass>
                    <organizationId>ORGID-141</organizationId>
                </role>
                <role name="Publication Review">
                    <activationType>P</activationType>
                    <qualifierResolverClass>org.kuali.student.lum.workflow.qualifierresolver.StaticOrgDataDictionaryQualifierResolver</qualifierResolverClass>
                    <organizationId>ORGID-176</organizationId>
                </role>
            </routeNodes>
        </documentType>
        <documentType>
            <name>kuali.proposal.type.course.modify</name>
            <parent>CluCreditCourseParentDocument</parent>
            <description>A proposal to modify an existing credit course</description>
            <label>Credit Course Modify Proposal</label>
            <active>true</active>
            <routingVersion>2</routingVersion>
            <routePaths>
                <routePath>
                    <start name="PreRoute" nextNode="Department Review"/>
                    <role name="Department Review" nextNode="Division Review"/>
                    <role name="Division Review" nextNode="College Review"/>
                    <role name="College Review" nextNode="Senate Review"/>
                    <role name="Senate Review" nextNode="Publication Review"/>
                    <role name="Publication Review"/>
                </routePath>
            </routePaths>
            <routeNodes>
                <start name="PreRoute">
                    <activationType>P</activationType>
                    <mandatoryRoute>false</mandatoryRoute>
                    <finalApproval>false</finalApproval>
                </start>
                <role name="Department Review">
                    <activationType>P</activationType>
                    <qualifierResolverClass>org.kuali.student.lum.workflow.qualifierresolver.CocOrgTypeDataDictionaryQualifierResolver</qualifierResolverClass>
                    <organizationTypeCode>kuali.org.Department</organizationTypeCode>
                    <organizationIdQualifierKey>department</organizationIdQualifierKey>
                </role>
                <role name="Division Review">
                    <activationType>P</activationType>
                    <qualifierResolverClass>org.kuali.student.lum.workflow.qualifierresolver.CocOrgTypeDataDictionaryQualifierResolver</qualifierResolverClass>
                    <organizationTypeCode>kuali.org.Division</organizationTypeCode>
                    <organizationIdQualifierKey>division</organizationIdQualifierKey>
                </role>
                <role name="College Review">
                    <activationType>P</activationType>
                    <qualifierResolverClass>org.kuali.student.lum.workflow.qualifierresolver.CocOrgTypeDataDictionaryQualifierResolver</qualifierResolverClass>
                    <organizationTypeCode>kuali.org.College</organizationTypeCode>
                    <organizationIdQualifierKey>college</organizationIdQualifierKey>
                </role>
                <role name="Senate Review">
                    <activationType>P</activationType>
                    <qualifierResolverClass>org.kuali.student.lum.workflow.qualifierresolver.StaticOrgDataDictionaryQualifierResolver</qualifierResolverClass>
                    <organizationId>ORGID-141</organizationId>
                </role>
                <role name="Publication Review">
                    <activationType>P</activationType>
                    <qualifierResolverClass>org.kuali.student.lum.workflow.qualifierresolver.StaticOrgDataDictionaryQualifierResolver</qualifierResolverClass>
                    <organizationId>ORGID-176</organizationId>
                </role>
            </routeNodes>
        </documentType>
        <documentType>
            <name>kuali.proposal.type.course.create</name>
            <parent>CluCreditCourseParentDocument</parent>
            <description>A proposal to create a new credit course</description>
            <label>Credit Course Create Proposal</label>
            <active>true</active>
            <policies>
                <!-- following policy added to make sure document stops at least once ENROUTE so validations will work properly (see Submit tech guide for more) -->
                <policy>
                    <name>DEFAULT_APPROVE</name>
                    <value>false</value>
                </policy>
            </policies>
            <routingVersion>2</routingVersion>
            <routePaths>
                <routePath>
                    <start name="PreRoute" nextNode="Department Review"/>
                    <role name="Department Review" nextNode="Division Review"/>
                    <role name="Division Review" nextNode="College Review"/>
                    <role name="College Review" nextNode="Senate Review"/>
                    <role name="Senate Review" nextNode="Publication Review"/>
                    <role name="Publication Review"/>
                </routePath>
            </routePaths>
            <routeNodes>
                <start name="PreRoute">
                    <activationType>P</activationType>
                    <mandatoryRoute>false</mandatoryRoute>
                    <finalApproval>false</finalApproval>
                </start>
                <role name="Department Review">
                    <activationType>P</activationType>
                    <qualifierResolverClass>
                        org.kuali.student.lum.workflow.qualifierresolver.CocOrgTypeDataDictionaryQualifierResolver
                    </qualifierResolverClass>
                    <organizationTypeCode>kuali.org.Department</organizationTypeCode>
                    <organizationIdQualifierKey>department</organizationIdQualifierKey>
                </role>
                <role name="Division Review">
                    <activationType>P</activationType>
                    <qualifierResolverClass>
                        org.kuali.student.lum.workflow.qualifierresolver.CocOrgTypeDataDictionaryQualifierResolver
                    </qualifierResolverClass>
                    <organizationTypeCode>kuali.org.Division</organizationTypeCode>
                    <organizationIdQualifierKey>division</organizationIdQualifierKey>
                </role>
                <role name="College Review">
                    <activationType>P</activationType>
                    <qualifierResolverClass>
                        org.kuali.student.lum.workflow.qualifierresolver.CocOrgTypeDataDictionaryQualifierResolver
                    </qualifierResolverClass>
                    <organizationTypeCode>kuali.org.College</organizationTypeCode>
                    <organizationIdQualifierKey>college</organizationIdQualifierKey>
                </role>
                <role name="Senate Review">
                    <activationType>P</activationType>
                    <qualifierResolverClass>
                        org.kuali.student.lum.workflow.qualifierresolver.StaticOrgDataDictionaryQualifierResolver
                    </qualifierResolverClass>
                    <organizationId>ORGID-141</organizationId>
                </role>
                <role name="Publication Review">
                    <activationType>P</activationType>
                    <qualifierResolverClass>
                        org.kuali.student.lum.workflow.qualifierresolver.StaticOrgDataDictionaryQualifierResolver
                    </qualifierResolverClass>
                    <organizationId>ORGID-176</organizationId>
                </role>
            </routeNodes>
        </documentType>
        <documentType>
            <name>kuali.proposal.type.course.create.admin</name>
            <parent>CluCreditCourseParentDocument</parent>
            <description>A proposal to create a new credit course that will not have curriculum review</description>
            <label>Credit Course Create Admin Proposal</label>
            <active>true</active>
            <routingVersion>2</routingVersion>
            <routePaths>
                <routePath>
                    <start name="PreRoute"/>
                </routePath>
            </routePaths>
            <routeNodes>
                <start name="PreRoute">
                    <activationType>P</activationType>
                    <mandatoryRoute>false</mandatoryRoute>
                    <finalApproval>false</finalApproval>
                </start>
            </routeNodes>
        </documentType>
        <documentType>
            <name>kuali.proposal.type.course.modify.admin</name>
            <parent>CluCreditCourseParentDocument</parent>
            <description>A proposal to modify an existing credit course that will not have curriculum review</description>
            <label>Credit Course Modify Admin Proposal</label>
            <active>true</active>
            <routingVersion>2</routingVersion>
            <routePaths>
                <routePath>
                    <start name="PreRoute"/>
                </routePath>
            </routePaths>
            <routeNodes>
                <start name="PreRoute">
                    <activationType>P</activationType>
                    <mandatoryRoute>false</mandatoryRoute>
                    <finalApproval>false</finalApproval>
                </start>
            </routeNodes>
        </documentType>
        <documentType>
            <name>kuali.proposal.type.course.modify.admin.noversion</name>
            <parent>CluCreditCourseParentDocument</parent>
            <description>A proposal to modify an existing credit course that will not have curriculum review and will not create a new version of the course</description>
            <label>Credit Course Modify Admin Proposal (No Version)</label>
            <active>true</active>
            <routingVersion>2</routingVersion>
            <routePaths>
                <routePath>
                    <start name="PreRoute"/>
                </routePath>
            </routePaths>
            <routeNodes>
                <start name="PreRoute">
                    <activationType>P</activationType>
                    <mandatoryRoute>false</mandatoryRoute>
                    <finalApproval>false</finalApproval>
                </start>
            </routeNodes>
        </documentType>
        <documentType>
            <name>kuali.proposal.type.course.retire.admin</name>
            <parent>CluCreditCourseParentDocument</parent>
            <description>A proposal to retire an existing credit course that will not have curriculum review</description>
            <label>Credit Course Retire Admin Proposal</label>
            <docHandler>${kr.krad.url}/retireCourse?methodToCall=docHandler</docHandler>
            <active>true</active>
            <routingVersion>2</routingVersion>
            <routePaths>
                <routePath>
                    <start name="PreRoute"/>
                </routePath>
            </routePaths>
            <routeNodes>
                <start name="PreRoute">
                    <activationType>P</activationType>
                    <mandatoryRoute>false</mandatoryRoute>
                    <finalApproval>false</finalApproval>
                </start>
            </routeNodes>
        </documentType>
        <!-- END CREDIT COURSE DOCUMENTS -->
        <!-- Program Documents -->
        <documentType>
            <name>kuali.proposal.type.majorDiscipline.create</name>
            <parent>CluMajorDisciplineParentDocument</parent>
            <description>Create Major Discipline Proposal</description>
            <label>Create Major Discipline Proposal</label>
            <postProcessorName>org.kuali.student.lum.workflow.ProgramPostProcessorBase</postProcessorName>
            <active>true</active>
            <routePaths>
                <routePath>
                    <start name="PreRoute" nextNode="Department Review"/>
                    <role name="Department Review"/>
                </routePath>
            </routePaths>
            <routeNodes>
                <start name="PreRoute">
                    <activationType>P</activationType>
                    <mandatoryRoute>false</mandatoryRoute>
                    <finalApproval>false</finalApproval>
                </start>
                <role name="Department Review">
                    <activationType>P</activationType>
                    <qualifierResolverClass>
                        org.kuali.student.lum.workflow.qualifierresolver.CocOrgTypeQualifierResolver
                    </qualifierResolverClass>
                    <organizationTypeCode>kuali.org.Department</organizationTypeCode>
                    <organizationIdQualifierKey>department</organizationIdQualifierKey>
                </role>
            </routeNodes>
        </documentType>
        <documentType>
            <name>kuali.proposal.type.majorDiscipline.modify</name>
            <parent>CluMajorDisciplineParentDocument</parent>
            <description>Modify Major Discipline Proposal</description>
            <label>Modify Major Discipline Proposal</label>
            <postProcessorName>org.kuali.student.lum.workflow.ProgramPostProcessorBase</postProcessorName>
            <active>true</active>
            <routePaths>
                <routePath>
                    <start name="PreRoute" nextNode="Department Review"/>
                    <role name="Department Review" nextNode="Division Review"/>
                    <role name="Division Review" nextNode="College Review"/>
                    <role name="College Review" nextNode="Curriculum Admin Review"/>
                    <role name="Curriculum Admin Review" nextNode="Senate Review"/>
                    <role name="Senate Review" nextNode="Presidents Office Review"/>
                    <role name="Presidents Office Review" nextNode="System Office Review"/>
                    <role name="System Office Review" nextNode="Publication Review"/>
                    <role name="Publication Review"/>
                </routePath>
            </routePaths>
            <routeNodes>
                <start name="PreRoute">
                    <activationType>P</activationType>
                    <mandatoryRoute>false</mandatoryRoute>
                    <finalApproval>false</finalApproval>
                </start>
                <role name="Department Review">
                    <activationType>P</activationType>
                    <qualifierResolverClass>
                        org.kuali.student.lum.workflow.qualifierresolver.CocOrgTypeQualifierResolver
                    </qualifierResolverClass>
                    <organizationTypeCode>kuali.org.Department</organizationTypeCode>
                    <organizationIdQualifierKey>department</organizationIdQualifierKey>
                </role>
                <role name="Division Review">
                    <activationType>P</activationType>
                    <qualifierResolverClass>
                        org.kuali.student.lum.workflow.qualifierresolver.CocOrgTypeQualifierResolver
                    </qualifierResolverClass>
                    <organizationTypeCode>kuali.org.Division</organizationTypeCode>
                    <organizationIdQualifierKey>division</organizationIdQualifierKey>
                </role>
                <role name="College Review">
                    <activationType>P</activationType>
                    <qualifierResolverClass>
                        org.kuali.student.lum.workflow.qualifierresolver.CocOrgTypeQualifierResolver
                    </qualifierResolverClass>
                    <organizationTypeCode>kuali.org.College</organizationTypeCode>
                    <organizationIdQualifierKey>college</organizationIdQualifierKey>
                </role>
                <role name="Curriculum Admin Review">
                    <activationType>P</activationType>
                    <qualifierResolverClass>
                        org.kuali.student.lum.workflow.qualifierresolver.StaticOrganizationQualifierResolver
                    </qualifierResolverClass>
                    <organizationId>141</organizationId>
                </role>
                <role name="Senate Review">
                    <activationType>P</activationType>
                    <qualifierResolverClass>
                        org.kuali.student.lum.workflow.qualifierresolver.StaticOrganizationQualifierResolver
                    </qualifierResolverClass>
                    <organizationId>141</organizationId>
                </role>
                <role name="Presidents Office Review">
                    <activationType>P</activationType>
                    <qualifierResolverClass>
                        org.kuali.student.lum.workflow.qualifierresolver.StaticOrganizationQualifierResolver
                    </qualifierResolverClass>
                    <organizationId>141</organizationId>
                </role>
                <role name="System Office Review">
                    <activationType>P</activationType>
                    <qualifierResolverClass>
                        org.kuali.student.lum.workflow.qualifierresolver.StaticOrganizationQualifierResolver
                    </qualifierResolverClass>
                    <organizationId>141</organizationId>
                </role>
                <role name="Publication Review">
                    <activationType>P</activationType>
                    <qualifierResolverClass>
                        org.kuali.student.lum.workflow.qualifierresolver.StaticOrganizationQualifierResolver
                    </qualifierResolverClass>
                    <organizationId>176</organizationId>
                </role>
            </routeNodes>
        </documentType>
    </documentTypes>
</data>

