-- Creating the permissions for add, edit, and delete proposal comments.
INSERT INTO KRIM_PERM_TMPL_T (ACTV_IND, DESC_TXT, KIM_TYP_ID, NM, NMSPC_CD, OBJ_ID, PERM_TMPL_ID, VER_NBR)
  VALUES ('Y', null, (SELECT KIM_TYP_ID FROM KRIM_TYP_T WHERE NM = 'Reference Type Permission' AND NMSPC_CD = 'KS-SYS'), 'Add a Comment', 'KS-SYS', SYS_GUID(), CONCAT('KS-', KS_RICE_ID_S.NEXTVAL), 1)
/
INSERT INTO KRIM_PERM_TMPL_T (ACTV_IND, DESC_TXT, KIM_TYP_ID, NM, NMSPC_CD, OBJ_ID, PERM_TMPL_ID, VER_NBR)
  VALUES ('Y', null, (SELECT KIM_TYP_ID FROM KRIM_TYP_T WHERE NM = 'Reference Type Permission' AND NMSPC_CD = 'KS-SYS'), 'Edit a Comment', 'KS-SYS', SYS_GUID(), CONCAT('KS-', KS_RICE_ID_S.NEXTVAL), 1)
/
INSERT INTO KRIM_PERM_TMPL_T (ACTV_IND, DESC_TXT, KIM_TYP_ID, NM, NMSPC_CD, OBJ_ID, PERM_TMPL_ID, VER_NBR)
  VALUES ('Y', null, (SELECT KIM_TYP_ID FROM KRIM_TYP_T WHERE NM = 'Reference Type Permission' AND NMSPC_CD = 'KS-SYS'), 'Delete a Comment', 'KS-SYS', SYS_GUID(), CONCAT('KS-', KS_RICE_ID_S.NEXTVAL), 1)
/

INSERT INTO KRIM_PERM_T (ACTV_IND, DESC_TXT, NM, NMSPC_CD, OBJ_ID, PERM_ID, PERM_TMPL_ID, VER_NBR)
  VALUES ('Y', 'Authorizes users to add a Comment.', 'Add a Comment', 'KS-CM', SYS_GUID(), CONCAT('KS-', KS_RICE_ID_S.NEXTVAL), (SELECT PERM_TMPL_ID FROM KRIM_PERM_TMPL_T WHERE NM = 'Add a Comment' AND NMSPC_CD = 'KS-SYS'), 1)
/
INSERT INTO KRIM_PERM_T (ACTV_IND, DESC_TXT, NM, NMSPC_CD, OBJ_ID, PERM_ID, PERM_TMPL_ID, VER_NBR)
  VALUES ('Y', 'Authorizes users to edit a Comment.', 'Edit a Comment', 'KS-CM', SYS_GUID(), CONCAT('KS-', KS_RICE_ID_S.NEXTVAL), (SELECT PERM_TMPL_ID FROM KRIM_PERM_TMPL_T WHERE NM = 'Edit a Comment' AND NMSPC_CD = 'KS-SYS'), 1)
/
INSERT INTO KRIM_PERM_T (ACTV_IND, DESC_TXT, NM, NMSPC_CD, OBJ_ID, PERM_ID, PERM_TMPL_ID, VER_NBR)
  VALUES ('Y', 'Authorizes users to delete a Comment.', 'Delete a Comment', 'KS-CM', SYS_GUID(), CONCAT('KS-', KS_RICE_ID_S.NEXTVAL), (SELECT PERM_TMPL_ID FROM KRIM_PERM_TMPL_T WHERE NM = 'Delete a Comment' AND NMSPC_CD = 'KS-SYS'), 1)
/

INSERT INTO KRIM_PERM_ATTR_DATA_T (ATTR_DATA_ID, ATTR_VAL, KIM_ATTR_DEFN_ID, KIM_TYP_ID, OBJ_ID, PERM_ID, VER_NBR)
  VALUES (CONCAT('KS-', KS_RICE_ID_S.NEXTVAL), 'referenceType.clu.proposal', (SELECT KIM_ATTR_DEFN_ID FROM KRIM_ATTR_DEFN_T WHERE NM = 'ksReferenceTypeKey' AND NMSPC_CD = 'KS-SYS'), (SELECT KIM_TYP_ID FROM KRIM_TYP_T WHERE NM = 'Reference Type Permission' AND NMSPC_CD = 'KS-SYS'), SYS_GUID(), (SELECT PERM_ID FROM KRIM_PERM_T WHERE NM = 'Add a Comment' AND NMSPC_CD = 'KS-CM'), 1)
/
INSERT INTO KRIM_PERM_ATTR_DATA_T (ATTR_DATA_ID, ATTR_VAL, KIM_ATTR_DEFN_ID, KIM_TYP_ID, OBJ_ID, PERM_ID, VER_NBR)
  VALUES (CONCAT('KS-', KS_RICE_ID_S.NEXTVAL), 'referenceType.clu.proposal', (SELECT KIM_ATTR_DEFN_ID FROM KRIM_ATTR_DEFN_T WHERE NM = 'ksReferenceTypeKey' AND NMSPC_CD = 'KS-SYS'), (SELECT KIM_TYP_ID FROM KRIM_TYP_T WHERE NM = 'Reference Type Permission' AND NMSPC_CD = 'KS-SYS'), SYS_GUID(), (SELECT PERM_ID FROM KRIM_PERM_T WHERE NM = 'Edit a Comment' AND NMSPC_CD = 'KS-CM'), 1)
/
INSERT INTO KRIM_PERM_ATTR_DATA_T (ATTR_DATA_ID, ATTR_VAL, KIM_ATTR_DEFN_ID, KIM_TYP_ID, OBJ_ID, PERM_ID, VER_NBR)
  VALUES (CONCAT('KS-', KS_RICE_ID_S.NEXTVAL), 'referenceType.clu.proposal', (SELECT KIM_ATTR_DEFN_ID FROM KRIM_ATTR_DEFN_T WHERE NM = 'ksReferenceTypeKey' AND NMSPC_CD = 'KS-SYS'), (SELECT KIM_TYP_ID FROM KRIM_TYP_T WHERE NM = 'Reference Type Permission' AND NMSPC_CD = 'KS-SYS'), SYS_GUID(), (SELECT PERM_ID FROM KRIM_PERM_T WHERE NM = 'Delete a Comment' AND NMSPC_CD = 'KS-CM'), 1)
/
