/*package hello

import org.kuali.student.rules.repository.test.Email;
import org.kuali.student.rules.repository.test.Message;

rule "EmailValidationStrictRFC2822mvel"
    salience -2
    no-loop true
    dialect "mvel"
    when
       email : Email( EmailAddress != null ) 
       message : Message()
    then
       message.setMessage( "Email valid" ); message.setValid( true );
end
 */
 
package org.kuali.student.test

import java.util.regex.Pattern;
import org.kuali.student.rules.repository.test.Email;
import org.kuali.student.rules.repository.test.Message;

rule "rule1"
    dialect "mvel"
    when
        $email: Email( average  == -1 )
    then
        //System.out.println( "1-average=" + $email.getAverage() );
        //$email.calculateAverage();
        System.out.println( "1-average=" + $email.getAverage() );
        $email.calculateAverage();
        update( $email );
end

rule "rule2"
    dialect "mvel"
    when
        $email: Email( average > -1 && average < 50 )
    then
        System.out.println( "2-average=" + $email.getAverage() );
        $email.calculateAverage();
        update( $email );
end

rule "rule3"
    dialect "mvel"
    when
        $email: Email( average >= 50 )
    then
        System.out.println( "Exit: 3-average=" + $email.getAverage() );
end
