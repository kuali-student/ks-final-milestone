<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:p="http://www.springframework.org/schema/p"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
                           http://www.springframework.org/schema/beans/spring-beans.xsd">

    <bean id="KS-CourseOfferingManagement-ViewActivityOfferingsSection" parent="Uif-VerticalBoxSection" p:disclosure.render="false">
        <property name="headerText" value="View All Activities" />
        <property name="items">
            <list>
                <ref bean="KS-CourseOfferingManagement-ARG-ToolBarSection"/>
                <ref bean="KS-CourseOfferingManagement-AddActivityOfferingPopupForm-AutoGen"/>
                <ref bean="KS-CourseOfferingManagement-AddAOCPopupForm"/>
                <ref bean="KS-CourseOfferingManagement-MoveAOCPopupForm"/>
                <ref bean="KS-CourseOfferingManagement-ARG-ActivityOfferingListSection"/>
            </list>
        </property>
    </bean>

    <bean id="KS-CourseOfferingManagement-ARG-ActivityOfferingListSection" parent="Uif-TableCollectionSection"
          p:layoutManager.numberOfColumns="3"  p:readOnly="@{#parent.readOnly}" p:renderAddLine="false" p:onDocumentReadyScript="removeColumns(@{#parent.readOnly}, [1], 'KS-CourseOfferingManagement-ActivityOfferingListSection'); ksAddRowSelectionCheckbox('KS-CourseOfferingManagement-ARG-ActivityOfferingListSection',false,'');">
        <property name="collectionObjectClass" value="org.kuali.student.enrollment.class2.courseoffering.dto.ActivityOfferingWrapper" />
        <property name="propertyName" value="activityWrapperList" />
        <property name="headerText" value="Activities (@{aoCount})" />
        <property name="collectionLookup.quickfinderAction.render" value="false" />
        <property name="layoutManager.renderSequenceField" value="false" />
        <property name="layoutManager.applyDefaultCellWidths" value="false" />
        <property name="layoutManager.applyAlternatingRowStyles" value="false" />
        <property name="layoutManager.richTable.templateOptions">
            <map merge="true">
                <entry key="sDom" value="rtip"/>
                <entry key="aaSorting" value="[[ 1, 'desc' ]]"/>
                <entry key="bPaginate" value="false"/>
                <entry key="bAutoWidth" value="false"/>
            </map>
        </property>

        <!-- ARG Notes by Bonnie -->
        <!-- TODO: can we replace isChecked input field with the includeLineSelectionField property? -->
        <!-- also see the example in ks kitchensink:-->
        <!-- http://staging.ks.kuali.org/portal.do?channelTitle=Collection%20row%20selection%20and%20toggle&channelUrl=http://staging.ks.kuali.org/kr-krad/kitchensink?viewId=KS-KitchenSink-CollectionRowSelection-View&methodToCall=collection -->

        <!--<property name="includeLineSelectionField" value="true"/>-->
        <!--<property name="lineSelectPropertyName" value="selected"/>-->

        <property name="items">
            <list>
                <bean parent="Uif-InputField" p:propertyName="isChecked" p:required="false" p:onChangeScript="handleAOToolbar();" p:hidden="@{#dp.currentCourseOfferingWrapper.crossListed}">
                    <property name="control">
                        <bean parent="Uif-CheckboxControl" p:disabled="false"/>
                    </property>
                </bean>
                <bean parent="Uif-HorizontalFieldGroup" p:fieldLabel.labelText="CODE">
                    <property name="label" value="Label"/>
                    <property name="items">
                        <list>
                            <bean parent="Uif-DataField" p:propertyName="aoInfo.activityCode" p:fieldLabel.render="false">
                                <property name="inquiry">
                                    <bean parent="Uif-Inquiry" p:dataObjectClassName="org.kuali.student.enrollment.class2.courseoffering.dto.ActivityOfferingWrapper" p:inquiryParameters="aoInfo.id" />
                                </property>
                            </bean>
                            <bean parent="Uif-ImageField" p:hidden="@{#lp.colocatedAoInfo.isEmpty()}" p:image.altText="@{#lp.colocatedAoInfoUI}"
                                  p:source="@{#ConfigProperties['ks.externalizable.images.url']}/colocate_icon.png">
                                <property name="toolTip">
                                    <bean parent="Uif-TooltipFocus" p:onMouseHover="true" p:tooltipContent="@{#lp.colocatedAoInfoUI}"/>
                                </property>
                            </bean>
                        </list>
                    </property>
                </bean>
                <bean parent="Uif-DataField" p:label="FORMAT" p:propertyName="aoInfo.formatOfferingName"/>
                <bean parent="Uif-DataField" p:label="CLUSTER" p:propertyName="aoClusterName" />
                <bean parent="Uif-DataField" p:label="STATUS" p:propertyName="stateName" />
                <bean parent="Uif-DataField" p:label="TYPE" p:propertyName="typeName"/>
                <bean parent="Uif-DataField" p:label="MAX ENR" p:propertyName="aoInfo.maximumEnrollment"/>
                <bean parent="Uif-DataField" p:label="DAYS" p:propertyName="daysDisplayName" />
                <bean parent="Uif-DataField" p:label="START TIME" p:propertyName="startTimeDisplay" />
                <bean parent="Uif-DataField" p:label="END TIME" p:propertyName="endTimeDisplay" />
                <bean parent="KS-Schedule-DisplayField" p:label="BLDG" p:messageText="@{#line.buildingName}"/>
                <bean parent="KS-Schedule-DisplayField" p:label="ROOM" p:messageText="@{#line.roomName}"/>
                <bean parent="Uif-DataField" p:label="INSTRUCTOR" p:propertyName="firstInstructorDisplayName"/>
                <bean name="enableApproveButton" parent="Uif-InputField" p:propertyName="enableApproveButton"/>
                <bean name="enableDraftButton" parent="Uif-InputField" p:propertyName="enableDraftButton"/>
                <bean name="enableSuspendButton" parent="Uif-InputField" p:propertyName="enableSuspendButton"/>
                <bean name="enableCancelButton" parent="Uif-InputField" p:propertyName="enableCancelButton"/>
                <bean name="enableReinstateButton" parent="Uif-InputField" p:propertyName="enableReinstateButton" />
                <bean name="enableDeleteButton" parent="Uif-InputField" p:propertyName="enableDeleteButton" />
                <bean name="enableCopyAOActionLink" parent="Uif-InputField" p:propertyName="enableCopyAOActionLink" />
                <bean name="enableEditAOActionLink" parent="Uif-InputField" p:propertyName="enableEditAOActionLink" />
            </list>
        </property>
        <property name="layoutManager.richTable.hiddenColumns">
            <set>
                <value>enableApproveButton</value>
                <value>enableDraftButton</value>
                <value>enableSuspendButton</value>
                <value>enableCancelButton</value>
                <value>enableReinstateButton</value>
                <value>enableDeleteButton</value>
                <value>enableCopyAOActionLink</value>
                <value>enableEditAOActionLink</value>
            </set>
        </property>
        <property name="layoutManager.actionFieldPrototype">
            <bean parent="Uif-HorizontalFieldGroup" p:align="left" p:required="false" p:label="Actions"/>
        </property>
        <property name="lineActions">
            <list>
                <!-- Note by Bonnie: turn off authz on copy and edit link for now -->
                <!--<bean parent="Uif-NavigationActionLink" p:methodToCall="copyAO" p:actionLabel="Copy" p:render="@{#line.isEnableCopyAOActionLink()}" p:actionEvent="copyAOonManageAOsPage" />-->
                <bean parent="Uif-NavigationActionLink" p:methodToCall="copyAO" p:actionLabel="Copy" />
                <!--<bean parent="Uif-NavigationActionLink" p:methodToCall="edit" p:actionLabel="Edit" p:render="@{#line.isEnableEditAOActionLink()}" p:actionEvent="editAOonManageAOsPage"/>-->
                <bean parent="Uif-NavigationActionLink" p:methodToCall="edit" p:actionLabel="Edit" />
            </list>
        </property>
    </bean>

    <bean id="KS-CourseOfferingManagement-AddActivityOfferingPopupForm-AutoGen" parent="Uif-HorizontalBoxSection">
        <!--<property name="render" value="@{enableAddButton and !currentCourseOfferingWrapper.crossListed}"/>-->
        <property name="hidden" value="true"/>
        <property name="cssClasses">
            <list>
                <value>uif-bubblepopup-content</value>
            </list>
        </property>
        <property name="style" value="margin-bottom:0;padding-left:10px;padding-right:10px;"/>
        <property name="items">
            <list>
                <bean parent="Uif-InputField" p:propertyName="formatIdForNewAO" p:label="Format" p:labelPlacement="TOP" p:required="true">
                    <property name="readOnly" value="false"/>
                    <property name="control">
                        <bean parent="Uif-DropdownControl" p:disabled="@{!#root.editAuthz}"/>
                    </property>
                    <property name="optionsFinder">
                        <bean class="org.kuali.student.enrollment.class2.autogen.keyvalue.ARGFormatsForCreateAOKeyValues" p:addBlankOption="false" />
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:propertyName="activityIdForNewAO" p:label="Activity Type" p:labelPlacement="TOP" p:required="true" p:refreshWhenChangedPropertyNames="formatIdForNewAO">
                    <!-- KRAD 2.2.0 Bug: class uif-boxLayoutHorizontalItem is removed on refresh: -->
                    <property name="cssClasses">
                        <list merge="true">
                            <value>uif-boxLayoutHorizontalItem</value>
                        </list>
                    </property>
                    <property name="readOnly" value="false"/>
                    <property name="control">
                        <bean parent="Uif-DropdownControl" p:disabled="@{!#root.editAuthz}"/>
                    </property>
                    <property name="optionsFinder">
                        <bean class="org.kuali.student.enrollment.class2.autogen.keyvalue.ARGActivitiesForCreateAOKeyValues" p:addBlankOption="false" />
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:propertyName="noOfActivityOfferings" p:label="Quantity" p:labelPlacement="TOP" p:required="true">
                    <property name="readOnly" value="false"/>
                    <property name="control">
                        <bean parent="Uif-TextControl" p:size="3" p:disabled="@{!#root.editAuthz}"/>
                    </property>
                </bean>
                <bean parent="Uif-SecondaryActionButton-Small">
                    <property name="style" value="margin-top:1.5em;"/>
                    <property name="actionLabel" value="Add"/>
                    <property name="methodToCall" value="addActivityOfferings"/>
                </bean>
            </list>
        </property>
    </bean>

    <bean id="KS-CourseOfferingManagement-AddAOCPopupForm" parent="Uif-HorizontalBoxSection">
        <!--<property name="render" value="@{enableAddButton and !currentCourseOfferingWrapper.crossListed}"/>-->
        <property name="hidden" value="true"/>
        <property name="cssClasses">
            <list>
                <value>uif-bubblepopup-content</value>
            </list>
        </property>
        <property name="style" value="margin-bottom:0;padding-left:10px;padding-right:10px;"/>
        <property name="items">
            <list>
                <bean parent="Uif-InputField" p:propertyName="formatOfferingIdForViewRG" p:label="Select Format" p:labelPlacement="TOP" p:required="true" >
                    <property name="control">
                        <bean parent="Uif-DropdownControl"/>
                    </property>
                    <property name="optionsFinder">
                        <bean class="org.kuali.student.enrollment.class2.autogen.keyvalue.ARGFormatsForCreateRGKeyValues" p:addBlankOption="false" />
                    </property>
                </bean>
                <bean parent="Uif-InputField"  p:id="privateClusterNameForLightBox" p:propertyName="privateClusterNameForLightBox" p:label="Private Name" p:labelPlacement="TOP" p:render="true">
                    <property name="control">
                        <bean parent="Uif-TextControl" p:size="30" p:minLength="5" p:maxLength="20"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField"  p:propertyName="publishedClusterNameForLightBox" p:label="Published Name" p:labelPlacement="TOP"  p:render="true">
                    <property name="control">
                        <bean parent="Uif-TextControl" p:size="30" p:minLength="5" p:maxLength="20"/>
                    </property>
                </bean>
                <bean parent="Uif-SecondaryActionButton-Small">
                    <property name="style" value="margin-top:1.5em;"/>
                    <property name="actionLabel" value="Add"/>
                    <property name="methodToCall" value="addCluster"/>
                </bean>
            </list>
        </property>
    </bean>

    <bean id="KS-CourseOfferingManagement-MoveAOCPopupForm" parent="Uif-HorizontalBoxSection">
        <!--<property name="render" value="@{enableAddButton and !currentCourseOfferingWrapper.crossListed}"/>-->
        <property name="hidden" value="true"/>
        <property name="cssClasses">
            <list>
                <value>uif-bubblepopup-content</value>
            </list>
        </property>
        <property name="style" value="margin-bottom:0;padding-left:10px;padding-right:10px;"/>
        <property name="items">
            <list>
                <bean parent="Uif-InputField" p:propertyName="clusterIdForAOMove"  p:label="Move selected offerings to" p:labelPlacement="TOP" >
                    <property name="control">
                        <bean parent="Uif-DropdownControl"/>
                    </property>
                    <property name="optionsFinder">
                        <bean class="org.kuali.student.enrollment.class2.autogen.keyvalue.ARGListOfAOClustersForFOKeyValues" p:addBlankOption="false" />
                    </property>
                </bean>
                <bean parent="Uif-SecondaryActionButton-Small">
                    <property name="style" value="margin-top:1.5em;"/>
                    <property name="actionLabel" value="Move"/>
                    <property name="methodToCall" value="moveToCluster"/>
                </bean>
            </list>
        </property>
    </bean>

</beans>