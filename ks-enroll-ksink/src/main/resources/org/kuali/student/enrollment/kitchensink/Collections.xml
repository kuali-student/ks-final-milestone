<?xml version="1.0" encoding="UTF-8"?>

<!--
  ~ Copyright 2006-2011 The Kuali Foundation
  ~
  ~ Licensed under the Educational Community License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~ http://www.opensource.org/licenses/ecl2.php
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:p="http://www.springframework.org/schema/p"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
                    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd">

    <!-- The Interesting Bits -->

    <!--[ Overview tab ]-->
    <bean id="KS-KitchenSink-Collections-Overview" parent="Uif-MessageField">
        <property name="messageText" value="Coming soon."/>
    </bean>

    <!--[ Single-Field Collection tab ]-->
    <bean id="KS-KitchenSink-Collections-SingleField" parent="Uif-MessageField">
        <property name="messageText" value="Coming soon."/>
    </bean>

    <!--[ Nested Collection tab ]-->
    <bean id="KS-KitchenSink-Collections-Nested" parent="Uif-MessageField">
        <property name="messageText" value="Coming soon."/>
    </bean>

    <!--[ Collections IN Form tab ]-->
    <bean id="KS-KitchenSink-Collections-InForm" parent="Uif-VerticalBoxSubSection" p:style="margin-bottom:0;">
        <property name="items">
            <list>
                <!-- KS-KitchenSink-Collection-Base is in KitchenSinkView.xml; parent="Uif-TableCollectionSection" -->
                <bean parent="KS-KitchenSink-Collection-Base">
                    <property name="layoutManager.richTable.render" value="false" />
                    <property name="addLineActions">
                        <list>
                            <bean parent="Uif-SecondaryActionButton-Small">
                                <property name="methodToCall" value="addLine"/>
                                <property name="actionLabel" value="Add"/>
                            </bean>
                        </list>
                    </property>
                    <property name="lineActions">
                        <list>
                            <bean parent="Uif-ActionLink">
                                <property name="methodToCall" value="deleteLine"/>
                                <property name="actionLabel" value="delete"/>
                            </bean>
                        </list>
                    </property>
                </bean>

                <!--
                    Uif-FooterBase should normally appear in the "footer" property of the Page component, but it can
                    be moved around when desired...
                -->
                <bean parent="Uif-FooterBase" p:style="margin-bottom:0;">
                    <property name="items">
                        <list>
                            <bean parent="Uif-PrimaryActionButton-Small">
                                <property name="methodToCall" value="save"/>
                                <property name="actionLabel" value="Save Changes"/>
                            </bean>
                            <!-- not implemented right now
                            <bean parent="Uif-ActionLink">
                                <property name="methodToCall" value="clearForm"/>
                                <property name="actionLabel" value="Clear Changes"/>
                                <property name="preSubmitCall" value="confirm('Are you sure you want to clear your changes?')"/>
                            </bean>
                            -->
                        </list>
                    </property>
                </bean>
            </list>
        </property>
    </bean>

    <!--[ Collections AS Form tab ]-->
    <bean id="KS-KitchenSink-Collections-AsForm" parent="Uif-VerticalBoxSubSection" p:style="margin-bottom:0;">
        <property name="items">
            <list>
                <!-- KS-KitchenSink-Collection-Base is in KitchenSinkView.xml; parent="Uif-TableCollectionSection" -->
                <bean parent="KS-KitchenSink-Collection-Base">
                    <property name="propertyName" value="collection2"/>
                    <property name="layoutManager.richTable.render" value="false" />
                    <property name="addLineActions">
                        <list>
                            <bean parent="Uif-SecondaryActionButton-Small">
                                <!--
                                    Default method is UifControllerBase.addLine(..).   If non-standard validation or
                                    database updating needs to happen, then either the controller class associated
                                    with the view containing the collection has to override addLine() or define the
                                    custom "methodToCall" method.  In both cases, the super's method must be called,
                                    providing that any custom validation has passed.  For this example, see
                                    KitchenSinkController.addLineCollectionAsForm().
                                -->
                                <property name="methodToCall" value="addLineCollectionAsForm"/>
                                <property name="actionLabel" value="Add Row"/>
                            </bean>
                        </list>
                    </property>
                    <property name="lineActions">
                        <list>
                            <bean parent="Uif-SecondaryActionButton-Small">
                                <!--
                                    Default method is UifControllerBase.saveLine(..) which in turn calls the helper's
                                    processCollectionSaveLine(..) method.  If non-standard validation or database
                                    updating needs to happen, then the helper class associated with the view containing
                                    the collection has to override processCollectionSaveLine(..).  For this example,
                                    see KitchenSinkHelper.processCollectionSaveLine().
                                -->
                                <property name="methodToCall" value="saveLine"/>
                                <property name="actionLabel" value="Save Row"/>
                            </bean>
                            <bean parent="Uif-KsKrad-Button-ImageOnly">
                                <!-- Uif-KsKrad-Button-ImageOnly defined in UifKradExtensionDefinitions.xml -->
                                <!--
                                    Default method is UifControllerBase.deleteLine(..) which in turn calls the
                                    helper's processCollectionDeleteLine(..) method.  If database updating is
                                    desired immediately, then the helper class associated with the view containing
                                    the collection has to override processCollectionDeleteLine(..).  For this example,
                                    see KitchenSinkHelper.processCollectionDeleteLine().
                                -->
                                <property name="methodToCall" value="deleteLine"/>
                                <property name="imageSource" value="../ks-enroll-ksink/images/delete_16x16.png"/>
                                <property name="imageSourceOnHover" value="../ks-enroll-ksink/images/delete2_16x16.png"/>
                                <property name="title" value="Delete"/>
                            </bean>
                        </list>
                    </property>
                </bean>
            </list>
        </property>
    </bean>



    <!-- just the various containers for the interesting bits -->

    <bean id="KS-KitchenSink-Collections-View" parent="KS-KitchenSink-FormView">
        <property name="headerText" value="Collections"/>
        <property name="items">
            <list>
                <bean parent="KS-KitchenSink-Collections-Page">
                    <property name="headerText" value="Collections"/>
                    <property name="footer">
                        <bean parent="Uif-VerticalBoxSection">
                            <property name="header.render" value="false"/>
                            <property name="style" value="margin-top:10px"/>
                            <property name="items">
                                <list>
                                    <bean parent="Uif-Message">
                                        <property name="style" value="margin-bottom:15px;font-size:125%"/>
                                        <property name="messageText">
                                            <value>
                                                Various collection examples.
                                            </value>
                                        </property>
                                    </bean>
                                    <bean parent="Uif-LinkField"
                                          p:label="Page Configuration"
                                          p:linkText="ks-enroll-ksink/src/main/resources/org/kuali/student/enrollment/kitchensink/Collections.xml" p:target="_blank"
                                          p:href="https://svn.kuali.org/repos/student/enrollment/ks-enroll/trunk/ks-enroll-ksink/src/main/resources/org/kuali/student/enrollment/kitchensink/Collections.xml"/>
                                    <bean parent="Uif-HorizontalFieldGroup" p:style="margin-bottom:0;">
                                        <property name="items">
                                            <list>
                                                <bean parent="Uif-LinkField"
                                                      p:label="KRAD XML Configuration"
                                                      p:linkText="UifGroupDefinitions.xml" p:target="_blank"
                                                      p:href="http://svn.kuali.org/repos/rice/tags/rice-2.2.0-M3/krad/krad-web-framework/src/main/resources/org/kuali/rice/krad/uif/UifGroupDefinitions.xml"/>
                                                <bean parent="Uif-MessageField"
                                                      p:messageText="(Uif-TableCollectionSection)"/>
                                            </list>
                                        </property>
                                    </bean>
                                    <bean parent="Uif-HorizontalFieldGroup" p:style="margin-bottom:0;">
                                        <property name="items">
                                            <list>
                                                <bean parent="Uif-LinkField"
                                                      p:label="KRAD Java Source"
                                                      p:linkText="CollectionGroup.java" p:target="_blank"
                                                      p:href="http://svn.kuali.org/repos/rice/tags/rice-2.2.0-M3/krad/krad-web-framework/src/main/java/org/kuali/rice/krad/uif/container/CollectionGroup.java"/>
                                            </list>
                                        </property>
                                    </bean>
                                    <bean parent="Uif-HorizontalFieldGroup" p:style="margin-bottom:0;">
                                        <property name="items">
                                            <list>
                                                <bean parent="Uif-LinkField"
                                                      p:label="KRAD Java API"
                                                      p:linkText="CollectionGroup.html" p:target="_blank"
                                                      p:href="http://site.origin.kuali.org/rice/2.2.0-M3/apidocs/org/kuali/rice/krad/uif/container/CollectionGroup.html"/>
                                            </list>
                                        </property>
                                    </bean>
                                    <bean parent="Uif-HorizontalFieldGroup" p:style="margin-bottom:0;">
                                        <property name="items">
                                            <list>
                                                <bean parent="Uif-LinkField"
                                                      p:label="KRAD Guide"
                                                      p:linkText="Collection Groups" p:target="_blank"
                                                      p:href="http://site.kuali.org/rice/2.2.0-M3/reference/html/KRAD_Guide.html#d6766e7731"/>
                                            </list>
                                        </property>
                                    </bean>
                                    <bean parent="Uif-HorizontalFieldGroup" p:style="border-top:solid 1px #333333;margin-bottom:0;padding-top:5px;">
                                        <property name="items">
                                            <list>
                                                <bean parent="Uif-LinkField"
                                                      p:label="Widget-Only Links (UIM)"
                                                      p:linkText="Overview" p:target="_blank"
                                                      p:href="../kr-krad/kitchensink?viewId=KS-KitchenSink-Collections-Overview-View-Bare&amp;methodToCall=collection"/>
                                                <bean parent="Uif-LinkField"
                                                      p:linkText="Single-Field Collection" p:target="_blank"
                                                      p:href="../kr-krad/kitchensink?viewId=KS-KitchenSink-Collections-SingleField-View-Bare&amp;methodToCall=collection"/>
                                                <bean parent="Uif-LinkField"
                                                      p:linkText="Nested Collection" p:target="_blank"
                                                      p:href="../kr-krad/kitchensink?viewId=KS-KitchenSink-Collections-Nested-View-Bare&amp;methodToCall=collection"/>
                                                <bean parent="Uif-LinkField"
                                                      p:linkText="Collection IN Form" p:target="_blank"
                                                      p:href="../kr-krad/kitchensink?viewId=KS-KitchenSink-Collections-InForm-View-Bare&amp;methodToCall=collection"/>
                                                <bean parent="Uif-LinkField"
                                                      p:linkText="Collection AS Form" p:target="_blank"
                                                      p:href="../kr-krad/kitchensink?viewId=KS-KitchenSink-Collections-AsForm-View-Bare&amp;methodToCall=collection"/>
                                            </list>
                                        </property>
                                    </bean>
                                </list>
                            </property>
                        </bean>
                    </property>
                </bean>
            </list>
        </property>
    </bean>

    <bean id="KS-KitchenSink-Collections-Page" parent="KS-KitchenSink-Page">
        <property name="items">
            <list>
                <bean parent="Uif-TabSection"
                      p:instructionalText="An expandable group of components that share the same data object in a form.">
                    <property name="items">
                        <list>
                            <bean parent="KS-KitchenSink-Collections-Overview-Section">
                                <property name="items">
                                    <list merge="true">
                                        <bean parent="Uif-MessageField"
                                              p:messageText="Better description goes here."/>
                                    </list>
                                </property>
                            </bean>
                            <bean parent="KS-KitchenSink-Collections-SingleField-Section">
                                <property name="items">
                                    <list merge="true">
                                        <bean parent="Uif-MessageField"
                                              p:messageText="Better description goes here."/>
                                    </list>
                                </property>
                            </bean>
                            <bean parent="KS-KitchenSink-Collections-Nested-Section">
                                <property name="items">
                                    <list merge="true">
                                        <bean parent="Uif-MessageField"
                                              p:messageText="Better description goes here."/>
                                    </list>
                                </property>
                            </bean>
                            <bean parent="KS-KitchenSink-Collections-InForm-Section">
                                <property name="items">
                                    <list merge="true">
                                        <bean parent="Uif-MessageField"
                                              p:messageText="Better description goes here."/>
                                    </list>
                                </property>
                            </bean>
                            <bean parent="KS-KitchenSink-Collections-AsForm-Section">
                                <property name="items">
                                    <list merge="true">
                                        <bean parent="Uif-MessageField"
                                              p:messageText="This example shows how to customize the add, save and delete methods to add validation and/or update a collection row instantly in the database."/>
                                    </list>
                                </property>
                            </bean>
                        </list>
                    </property>
                </bean>
            </list>
        </property>
    </bean>


    <bean id="KS-KitchenSink-Collections-Overview-Section" parent="Uif-VerticalBoxSection"
          p:headerText="Overview" p:header.render="false">
        <property name="items">
            <list>
                <ref bean="KS-KitchenSink-Collections-Overview"/>
            </list>
        </property>
    </bean>

    <bean id="KS-KitchenSink-Collections-SingleField-Section" parent="Uif-VerticalBoxSection"
          p:headerText="Single-Field Collection" p:header.render="false">
        <property name="items">
            <list>
                <ref bean="KS-KitchenSink-Collections-SingleField"/>
            </list>
        </property>
    </bean>

    <bean id="KS-KitchenSink-Collections-Nested-Section" parent="Uif-VerticalBoxSection"
          p:headerText="Nested Collection" p:header.render="false">
        <property name="items">
            <list>
                <ref bean="KS-KitchenSink-Collections-Nested"/>
            </list>
        </property>
    </bean>

    <bean id="KS-KitchenSink-Collections-InForm-Section" parent="Uif-VerticalBoxSection"
          p:headerText="Collection IN Form" p:header.render="false">
        <property name="items">
            <list>
                <ref bean="KS-KitchenSink-Collections-InForm"/>
            </list>
        </property>
    </bean>

    <bean id="KS-KitchenSink-Collections-AsForm-Section" parent="Uif-VerticalBoxSection"
          p:headerText="Collection AS Form" p:header.render="false">
        <property name="items">
            <list>
                <ref bean="KS-KitchenSink-Collections-AsForm"/>
            </list>
        </property>
    </bean>

    <bean id="KS-KitchenSink-Collections-Overview-View-Bare" parent="KS-KitchenSink-FormView-Bare">
        <property name="items">
            <list>
                <bean parent="KS-KitchenSink-Page" p:header.render="false">
                    <property name="items">
                        <list>
                            <ref bean="KS-KitchenSink-Collections-Overview-Section"/>
                        </list>
                    </property>
                </bean>
            </list>
        </property>
    </bean>

    <bean id="KS-KitchenSink-Collections-SingleField-View-Bare" parent="KS-KitchenSink-FormView-Bare">
        <property name="items">
            <list>
                <bean parent="KS-KitchenSink-Page" p:header.render="false">
                    <property name="items">
                        <list>
                            <ref bean="KS-KitchenSink-Collections-SingleField-Section"/>
                        </list>
                    </property>
                </bean>
            </list>
        </property>
    </bean>

    <bean id="KS-KitchenSink-Collections-Nested-View-Bare" parent="KS-KitchenSink-FormView-Bare">
        <property name="items">
            <list>
                <bean parent="KS-KitchenSink-Page" p:header.render="false">
                    <property name="items">
                        <list>
                            <ref bean="KS-KitchenSink-Collections-Nested-Section"/>
                        </list>
                    </property>
                </bean>
            </list>
        </property>
    </bean>

    <bean id="KS-KitchenSink-Collections-InForm-View-Bare" parent="KS-KitchenSink-FormView-Bare">
        <property name="items">
            <list>
                <bean parent="KS-KitchenSink-Page" p:header.render="false">
                    <property name="items">
                        <list>
                            <ref bean="KS-KitchenSink-Collections-InForm-Section"/>
                        </list>
                    </property>
                </bean>
            </list>
        </property>
    </bean>

    <bean id="KS-KitchenSink-Collections-AsForm-View-Bare" parent="KS-KitchenSink-FormView-Bare">
        <property name="items">
            <list>
                <bean parent="KS-KitchenSink-Page" p:header.render="false">
                    <property name="items">
                        <list>
                            <ref bean="KS-KitchenSink-Collections-AsForm-Section"/>
                        </list>
                    </property>
                </bean>
            </list>
        </property>
    </bean>

</beans>