
--update old rules to new types
Update KRMS_RULE_T SET NM = 'b28a81fd-d40a-4435-994e-6aaed5f00d38:10006:1', TYP_ID = '10006' where RULE_ID like 'KS-KRMS-RULE-11556'
/
Update KRMS_RULE_T SET NM = '2d69d93d-c0c4-4e76-bfa4-0ed5828cdac9:10006:1', TYP_ID = '10006' where RULE_ID like 'KS-KRMS-RULE-11590'
/
Update KRMS_RULE_T SET NM = '3aa939f6-cb83-431c-9fc5-04bb1189f8b8:10006:1', TYP_ID = '10006' where RULE_ID like 'KS-KRMS-RULE-11597'
/
Update KRMS_RULE_T SET NM = 'fd7e4894-be5e-4e88-a7a8-d9a4fa2045d6:10006:1', TYP_ID = '10006' where RULE_ID like 'KS-KRMS-RULE-11609'
/
Update KRMS_RULE_T SET NM = 'd9adc5b0-dbfe-4461-8151-3c670ce7b493:10006:1', TYP_ID = '10006' where RULE_ID like 'KS-KRMS-RULE-11643'
/
Update KRMS_RULE_T SET NM = '97c1843c-c0e7-44f4-9b28-3b38a592c24d:10006:1', TYP_ID = '10006' where RULE_ID like 'KS-KRMS-RULE-11896'
/
Update KRMS_RULE_T SET NM = '7cdd5c71-5cca-4469-b0ed-9083e94ffc5a:10006:1', TYP_ID = '10006' where RULE_ID like 'KS-KRMS-RULE-11899'
/
Update KRMS_RULE_T SET NM = '23f45fe5-4a89-4f03-9925-caf1a377e531:10006:1', TYP_ID = '10006' where RULE_ID like 'KS-KRMS-RULE-11941'
/

--insert new rules
Insert into KRMS_RULE_T (ACTV,DESC_TXT,NM,NMSPC_CD,PROP_ID,RULE_ID,TYP_ID,VER_NBR) values ('Y',null,'fccf688f-685d-4dae-84e9-610807445d33:10006:1','KS-SYS','KS-KRMS-PROP-14316','KS-KRMS-RULE-12020','10006',1)
/
Insert into KRMS_RULE_T (ACTV,DESC_TXT,NM,NMSPC_CD,PROP_ID,RULE_ID,TYP_ID,VER_NBR) values ('Y',null,'22c763ad-5212-4cc9-8099-31d75992abf7:10006:1','KS-SYS','KS-KRMS-PROP-13581','KS-KRMS-RULE-12021','10006',1)
/
Insert into KRMS_RULE_T (ACTV,DESC_TXT,NM,NMSPC_CD,PROP_ID,RULE_ID,TYP_ID,VER_NBR) values ('Y',null,'CLUID-CHEM136-200108000000:10006:1','KS-SYS','KS-KRMS-PROP-13186','KS-KRMS-RULE-12023','10006',1)
/
Insert into KRMS_RULE_T (ACTV,DESC_TXT,NM,NMSPC_CD,PROP_ID,RULE_ID,TYP_ID,VER_NBR) values ('Y',null,'fc69da44-98f2-4c83-8ac9-d9f2bca95f59:10006:1','KS-SYS','KS-KRMS-PROP-13184','KS-KRMS-RULE-12022','10006',1)
/
Insert into KRMS_RULE_T (ACTV,DESC_TXT,NM,NMSPC_CD,PROP_ID,RULE_ID,TYP_ID,VER_NBR) values ('Y',null,'8dfe51b0-eb43-49d9-aab6-a1b1d83be4ed:10006:1','KS-SYS','KS-KRMS-PROP-13529','KS-KRMS-RULE-12024','10006',1)
/
Insert into KRMS_RULE_T (ACTV,DESC_TXT,NM,NMSPC_CD,PROP_ID,RULE_ID,TYP_ID,VER_NBR) values ('Y',null,'b2d6a58f-6d74-4394-ba56-b70d06f32f3a:10006:1','KS-SYS','KS-KRMS-PROP-13696','KS-KRMS-RULE-12028','10006',1)
/
Insert into KRMS_RULE_T (ACTV,DESC_TXT,NM,NMSPC_CD,PROP_ID,RULE_ID,TYP_ID,VER_NBR) values ('Y',null,'5535ff93-0d40-4883-92ea-5f6e34655677:10006:1','KS-SYS','KS-KRMS-PROP-14176','KS-KRMS-RULE-12031','10006',1)
/
Insert into KRMS_RULE_T (ACTV,DESC_TXT,NM,NMSPC_CD,PROP_ID,RULE_ID,TYP_ID,VER_NBR) values ('Y',null,'04c96d30-ff49-4f6f-b6da-b0c18ae825b8:10006:1','KS-SYS','KS-KRMS-PROP-14192','KS-KRMS-RULE-12032','10006',1)
/
Insert into KRMS_RULE_T (ACTV,DESC_TXT,NM,NMSPC_CD,PROP_ID,RULE_ID,TYP_ID,VER_NBR) values ('Y',null,'e960defa-3c0c-4bf6-bb2f-0ec13d80096d:10006:1','KS-SYS','KS-KRMS-PROP-14629','KS-KRMS-RULE-12036','10006',1)
/


--Update child props with new rule ids
Update KRMS_PROP_T SET RULE_ID = 'KS-KRMS-RULE-12020' WHERE PROP_ID LIKE 'KS-KRMS-PROP-14316'
/
Update KRMS_PROP_T SET RULE_ID = 'KS-KRMS-RULE-12021' WHERE PROP_ID LIKE 'KS-KRMS-PROP-13581'
/
Update KRMS_PROP_T SET RULE_ID = 'KS-KRMS-RULE-12023' WHERE PROP_ID LIKE 'KS-KRMS-PROP-13186'
/
Update KRMS_PROP_T SET RULE_ID = 'KS-KRMS-RULE-12022' WHERE PROP_ID LIKE 'KS-KRMS-PROP-13184'
/
Update KRMS_PROP_T SET RULE_ID = 'KS-KRMS-RULE-12024' WHERE PROP_ID LIKE 'KS-KRMS-PROP-13529'
/
Update KRMS_PROP_T SET RULE_ID = 'KS-KRMS-RULE-12028' WHERE PROP_ID LIKE 'KS-KRMS-PROP-13696'
/
Update KRMS_PROP_T SET RULE_ID = 'KS-KRMS-RULE-12031' WHERE PROP_ID LIKE 'KS-KRMS-PROP-14176'
/
Update KRMS_PROP_T SET RULE_ID = 'KS-KRMS-RULE-12032' WHERE PROP_ID LIKE 'KS-KRMS-PROP-14192'
/
Update KRMS_PROP_T SET RULE_ID = 'KS-KRMS-RULE-12036' WHERE PROP_ID LIKE 'KS-KRMS-PROP-14629'
/

--New Agenda items
Insert into KRMS_AGENDA_ITM_T (AGENDA_ID,AGENDA_ITM_ID,ALWAYS,RULE_ID,SUB_AGENDA_ID,VER_NBR,WHEN_FALSE,WHEN_TRUE) values ('KS-KRMS-AGENDA-11756','KS-KRMS-AGENDA-ITM-12022',null,'KS-KRMS-RULE-12020',null,2,null,null)
/
Insert into KRMS_AGENDA_ITM_T (AGENDA_ID,AGENDA_ITM_ID,ALWAYS,RULE_ID,SUB_AGENDA_ID,VER_NBR,WHEN_FALSE,WHEN_TRUE) values ('KS-KRMS-AGENDA-11493','KS-KRMS-AGENDA-ITM-12023',null,'KS-KRMS-RULE-12021',null,2,null,null)
/
Insert into KRMS_AGENDA_ITM_T (AGENDA_ID,AGENDA_ITM_ID,ALWAYS,RULE_ID,SUB_AGENDA_ID,VER_NBR,WHEN_FALSE,WHEN_TRUE) values ('KS-KRMS-AGENDA-11340','KS-KRMS-AGENDA-ITM-12024',null,'KS-KRMS-RULE-12022',null,2,null,null)
/
Insert into KRMS_AGENDA_ITM_T (AGENDA_ID,AGENDA_ITM_ID,ALWAYS,RULE_ID,SUB_AGENDA_ID,VER_NBR,WHEN_FALSE,WHEN_TRUE) values ('KS-KRMS-AGENDA-11342','KS-KRMS-AGENDA-ITM-12025',null,'KS-KRMS-RULE-12023',null,2,null,null)
/
Insert into KRMS_AGENDA_ITM_T (AGENDA_ID,AGENDA_ITM_ID,ALWAYS,RULE_ID,SUB_AGENDA_ID,VER_NBR,WHEN_FALSE,WHEN_TRUE) values ('KS-KRMS-AGENDA-11466','KS-KRMS-AGENDA-ITM-12026',null,'KS-KRMS-RULE-12024',null,2,null,null)
/
Insert into KRMS_AGENDA_ITM_T (AGENDA_ID,AGENDA_ITM_ID,ALWAYS,RULE_ID,SUB_AGENDA_ID,VER_NBR,WHEN_FALSE,WHEN_TRUE) values ('KS-KRMS-AGENDA-11540','KS-KRMS-AGENDA-ITM-12027',null,'KS-KRMS-RULE-12028',null,2,null,null)
/
Insert into KRMS_AGENDA_ITM_T (AGENDA_ID,AGENDA_ITM_ID,ALWAYS,RULE_ID,SUB_AGENDA_ID,VER_NBR,WHEN_FALSE,WHEN_TRUE) values ('KS-KRMS-AGENDA-11700','KS-KRMS-AGENDA-ITM-12028',null,'KS-KRMS-RULE-12031',null,2,null,null)
/
Insert into KRMS_AGENDA_ITM_T (AGENDA_ID,AGENDA_ITM_ID,ALWAYS,RULE_ID,SUB_AGENDA_ID,VER_NBR,WHEN_FALSE,WHEN_TRUE) values ('KS-KRMS-AGENDA-11705','KS-KRMS-AGENDA-ITM-12029',null,'KS-KRMS-RULE-12032',null,2,null,null)
/
Insert into KRMS_AGENDA_ITM_T (AGENDA_ID,AGENDA_ITM_ID,ALWAYS,RULE_ID,SUB_AGENDA_ID,VER_NBR,WHEN_FALSE,WHEN_TRUE) values ('KS-KRMS-AGENDA-11888','KS-KRMS-AGENDA-ITM-12030',null,'KS-KRMS-RULE-12036',null,2,null,null)
/

--update existing agenda items
UPDATE KRMS_AGENDA_ITM_T SET WHEN_TRUE = 'KS-KRMS-AGENDA-ITM-12022' WHERE AGENDA_ITM_ID LIKE 'KS-KRMS-AGENDA-ITM-11843'
/
UPDATE KRMS_AGENDA_ITM_T SET WHEN_TRUE = 'KS-KRMS-AGENDA-ITM-12023' WHERE AGENDA_ITM_ID LIKE 'KS-KRMS-AGENDA-ITM-11556'
/
UPDATE KRMS_AGENDA_ITM_T SET WHEN_TRUE = 'KS-KRMS-AGENDA-ITM-12024' WHERE AGENDA_ITM_ID LIKE 'KS-KRMS-AGENDA-ITM-11394'
/
UPDATE KRMS_AGENDA_ITM_T SET WHEN_TRUE = 'KS-KRMS-AGENDA-ITM-12025' WHERE AGENDA_ITM_ID LIKE 'KS-KRMS-AGENDA-ITM-11396'
/
UPDATE KRMS_AGENDA_ITM_T SET WHEN_TRUE = 'KS-KRMS-AGENDA-ITM-12026' WHERE AGENDA_ITM_ID LIKE 'KS-KRMS-AGENDA-ITM-11526'
/
UPDATE KRMS_AGENDA_ITM_T SET WHEN_TRUE = 'KS-KRMS-AGENDA-ITM-12027' WHERE AGENDA_ITM_ID LIKE 'KS-KRMS-AGENDA-ITM-11606'
/
UPDATE KRMS_AGENDA_ITM_T SET WHEN_TRUE = 'KS-KRMS-AGENDA-ITM-12028' WHERE AGENDA_ITM_ID LIKE 'KS-KRMS-AGENDA-ITM-11783'
/
UPDATE KRMS_AGENDA_ITM_T SET WHEN_TRUE = 'KS-KRMS-AGENDA-ITM-12029' WHERE AGENDA_ITM_ID LIKE 'KS-KRMS-AGENDA-ITM-11789'
/
UPDATE KRMS_AGENDA_ITM_T SET WHEN_TRUE = 'KS-KRMS-AGENDA-ITM-12030' WHERE AGENDA_ITM_ID LIKE 'KS-KRMS-AGENDA-ITM-11985'
/

--Clean up relationships with old compound props
delete from KRMS_CMPND_PROP_PROPS_T where CMPND_PROP_ID like 'KS-KRMS-PROP-13579'
/
delete from KRMS_CMPND_PROP_PROPS_T where CMPND_PROP_ID like 'KS-KRMS-PROP-14314'
/
delete from KRMS_CMPND_PROP_PROPS_T where PROP_ID like 'KS-KRMS-PROP-13529'
/
delete from KRMS_CMPND_PROP_PROPS_T where PROP_ID like 'KS-KRMS-PROP-14192'
/
delete from KRMS_CMPND_PROP_PROPS_T where CMPND_PROP_ID like 'KS-KRMS-PROP-13694'
/
delete from KRMS_CMPND_PROP_PROPS_T where CMPND_PROP_ID like 'KS-KRMS-PROP-13831'
/
delete from KRMS_CMPND_PROP_PROPS_T where CMPND_PROP_ID like 'KS-KRMS-PROP-13835'
/
delete from KRMS_CMPND_PROP_PROPS_T where CMPND_PROP_ID like 'KS-KRMS-PROP-14175'
/
delete from KRMS_CMPND_PROP_PROPS_T where CMPND_PROP_ID like 'KS-KRMS-PROP-14628'
/

--update rules to replace compound parents with remaining siblings
Update KRMS_RULE_T SET PROP_ID = 'KS-KRMS-PROP-13580' where PROP_ID like 'KS-KRMS-PROP-13579'
/
Update KRMS_RULE_T SET PROP_ID = 'KS-KRMS-PROP-14315' where PROP_ID like 'KS-KRMS-PROP-14314'
/
Update KRMS_RULE_T SET PROP_ID = 'KS-KRMS-PROP-13695' where PROP_ID like 'KS-KRMS-PROP-13694'
/
Update KRMS_RULE_T SET PROP_ID = 'KS-KRMS-PROP-13832' where PROP_ID like 'KS-KRMS-PROP-13831'
/
Update KRMS_RULE_T SET PROP_ID = 'KS-KRMS-PROP-13836' where PROP_ID like 'KS-KRMS-PROP-13835'
/
Update KRMS_RULE_T SET PROP_ID = 'KS-KRMS-PROP-14177' where PROP_ID like 'KS-KRMS-PROP-14175'
/
Update KRMS_RULE_T SET PROP_ID = 'KS-KRMS-PROP-14630' where PROP_ID like 'KS-KRMS-PROP-14628'
/

--delete the orphaned compound props
delete from KRMS_PROP_T where PROP_ID like 'KS-KRMS-PROP-13579'
/
delete from KRMS_PROP_T where PROP_ID like 'KS-KRMS-PROP-14314'
/
delete from KRMS_PROP_T where PROP_ID like 'KS-KRMS-PROP-13694'
/
delete from KRMS_PROP_T where PROP_ID like 'KS-KRMS-PROP-13831'
/
delete from KRMS_PROP_T where PROP_ID like 'KS-KRMS-PROP-13835'
/
delete from KRMS_PROP_T where PROP_ID like 'KS-KRMS-PROP-14175'
/
delete from KRMS_PROP_T where PROP_ID like 'KS-KRMS-PROP-14628'
/