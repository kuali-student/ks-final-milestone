-- KSENROLL-13225

--create CluSets Day 4
Insert into KSLU_CLU_SET (ADMIN_ORG_ID,CREATEID,CREATETIME,EFF_DT,EXPIR_DT,ID,MEM_QUERY_ID,NAME,OBJ_ID,REFERENCEABLE,REUSABLE,RT_DESCR_ID,ST,TYPE,UPDATEID,UPDATETIME,VER_NBR) values
(null,'FE-RefData',TO_DATE ('01/01/2012', 'MM/DD/YYYY'),TO_DATE ('01/01/2012', 'MM/DD/YYYY'),null,'e5f1c380-04f6-c548-e040-007f0101104a',null,'AdHocFallDay4',SYS_GUID(),0,0,null,'active','kuali.cluSet.type.Course',null,TO_DATE ('01/01/2012', 'MM/DD/YYYY'),0)
/
Insert into KSLU_CLU_SET_JN_CLU (CLU_SET_ID,CLU_VER_IND_ID,ID,OBJ_ID,VER_NBR) values ('e5f1c380-04f6-c548-e040-007f0101104a','5e51aae0-6588-4eff-9afb-bb7c90e5bdfa',SYS_GUID(),SYS_GUID(),0)
/
Insert into KSLU_CLU_SET_JN_CLU (CLU_SET_ID,CLU_VER_IND_ID,ID,OBJ_ID,VER_NBR) values ('e5f1c380-04f6-c548-e040-007f0101104a','2b440b28-34bf-4d37-9cf7-00df3d3c64b5',SYS_GUID(),SYS_GUID(),0)
/
Insert into KSLU_CLU_SET_JN_CLU (CLU_SET_ID,CLU_VER_IND_ID,ID,OBJ_ID,VER_NBR) values ('e5f1c380-04f6-c548-e040-007f0101104a','257c0494-3149-457e-ab1a-fe63b36c8375',SYS_GUID(),SYS_GUID(),0)
/
Insert into KSLU_CLU_SET_JN_CLU (CLU_SET_ID,CLU_VER_IND_ID,ID,OBJ_ID,VER_NBR) values ('e5f1c380-04f6-c548-e040-007f0101104a','a05b5b4a-e0dc-4375-9911-0e3984740caa',SYS_GUID(),SYS_GUID(),0)
/
Insert into KSLU_CLU_SET_JN_CLU (CLU_SET_ID,CLU_VER_IND_ID,ID,OBJ_ID,VER_NBR) values ('e5f1c380-04f6-c548-e040-007f0101104a','e4edac1b-7cef-4453-abbb-a104973645e7',SYS_GUID(),SYS_GUID(),0)
/



--Day 2 session1
Insert into KSLU_CLU_SET (ADMIN_ORG_ID,CREATEID,CREATETIME,EFF_DT,EXPIR_DT,ID,MEM_QUERY_ID,NAME,OBJ_ID,REFERENCEABLE,REUSABLE,RT_DESCR_ID,ST,TYPE,UPDATEID,UPDATETIME,VER_NBR) values
(null,'FE-RefData',TO_DATE ('01/01/2012', 'MM/DD/YYYY'),TO_DATE ('01/01/2012', 'MM/DD/YYYY'),null,'e5f1c380-04f7-c548-e040-007f0101104a',null,'AdHocFallDay2Session1',SYS_GUID(),0,0,null,'active','kuali.cluSet.type.Course',null,TO_DATE ('01/01/2012', 'MM/DD/YYYY'),0)
/
Insert into KSLU_CLU_SET_JN_CLU (CLU_SET_ID,CLU_VER_IND_ID,ID,OBJ_ID,VER_NBR) values ('e5f1c380-04f7-c548-e040-007f0101104a','4960877d-ddcc-4f8e-851e-d576d290f4c8',SYS_GUID(),SYS_GUID(),0)
/
Insert into KSLU_CLU_SET_JN_CLU (CLU_SET_ID,CLU_VER_IND_ID,ID,OBJ_ID,VER_NBR) values ('e5f1c380-04f7-c548-e040-007f0101104a','fe5bdc17-db55-4636-9cbc-a72a105da233',SYS_GUID(),SYS_GUID(),0)
/
Insert into KSLU_CLU_SET_JN_CLU (CLU_SET_ID,CLU_VER_IND_ID,ID,OBJ_ID,VER_NBR) values ('e5f1c380-04f7-c548-e040-007f0101104a','8aa10ba6-9941-4241-8c04-ffb4ffde49f6',SYS_GUID(),SYS_GUID(),0)
/
Insert into KSLU_CLU_SET_JN_CLU (CLU_SET_ID,CLU_VER_IND_ID,ID,OBJ_ID,VER_NBR) values ('e5f1c380-04f7-c548-e040-007f0101104a','265f0fc4-9cfb-49cc-9c69-5f21b1109ccd',SYS_GUID(),SYS_GUID(),0)
/
Insert into KSLU_CLU_SET_JN_CLU (CLU_SET_ID,CLU_VER_IND_ID,ID,OBJ_ID,VER_NBR) values ('e5f1c380-04f7-c548-e040-007f0101104a','a0c9f8fd-1b17-4ba2-8e39-886febd2fd75',SYS_GUID(),SYS_GUID(),0)
/
Insert into KSLU_CLU_SET_JN_CLU (CLU_SET_ID,CLU_VER_IND_ID,ID,OBJ_ID,VER_NBR) values ('e5f1c380-04f7-c548-e040-007f0101104a','2b0a936d-0e2e-44a9-aeb1-ba33063baf96',SYS_GUID(),SYS_GUID(),0)
/
Insert into KSLU_CLU_SET_JN_CLU (CLU_SET_ID,CLU_VER_IND_ID,ID,OBJ_ID,VER_NBR) values ('e5f1c380-04f7-c548-e040-007f0101104a','fd9058b2-29dd-48d9-be47-d5422ad9b33b',SYS_GUID(),SYS_GUID(),0)
/
Insert into KSLU_CLU_SET_JN_CLU (CLU_SET_ID,CLU_VER_IND_ID,ID,OBJ_ID,VER_NBR) values ('e5f1c380-04f7-c548-e040-007f0101104a','c8dd1b36-b354-4790-8516-2cb2cc4f5660',SYS_GUID(),SYS_GUID(),0)
/
Insert into KSLU_CLU_SET_JN_CLU (CLU_SET_ID,CLU_VER_IND_ID,ID,OBJ_ID,VER_NBR) values ('e5f1c380-04f7-c548-e040-007f0101104a','e5d6d7b1-b620-456a-b4b2-6b2991fb138d',SYS_GUID(),SYS_GUID(),0)
/


--Day 3 session 3
Insert into KSLU_CLU_SET (ADMIN_ORG_ID,CREATEID,CREATETIME,EFF_DT,EXPIR_DT,ID,MEM_QUERY_ID,NAME,OBJ_ID,REFERENCEABLE,REUSABLE,RT_DESCR_ID,ST,TYPE,UPDATEID,UPDATETIME,VER_NBR) values
(null,'FE-RefData',TO_DATE ('01/01/2012', 'MM/DD/YYYY'),TO_DATE ('01/01/2012', 'MM/DD/YYYY'),null,'e5f1c380-04f8-c548-e040-007f0101104a',null,'AdHocFallDay3Session3',SYS_GUID(),0,0,null,'active','kuali.cluSet.type.Course',null,TO_DATE ('01/01/2012', 'MM/DD/YYYY'),0)
/
Insert into KSLU_CLU_SET_JN_CLU (CLU_SET_ID,CLU_VER_IND_ID,ID,OBJ_ID,VER_NBR) values ('e5f1c380-04f8-c548-e040-007f0101104a','54414200-ea95-47dd-9718-1ec1d81f366b',SYS_GUID(),SYS_GUID(),0)
/
Insert into KSLU_CLU_SET_JN_CLU (CLU_SET_ID,CLU_VER_IND_ID,ID,OBJ_ID,VER_NBR) values ('e5f1c380-04f8-c548-e040-007f0101104a','d9daa6bf-af7d-4876-833c-83f95d8a8b1e',SYS_GUID(),SYS_GUID(),0)
/

 --update terms with new course sets
Update KRMS_TERM_PARM_T set VAL = 'e5f1c380-04f7-c548-e040-007f0101104a'
Where TERM_ID ='KS-KRMS-TERM-13433'
and TERM_PARM_ID = 'KS-KRMS-TERM-PARM-13490'
/

Update KRMS_TERM_T
   set TERM_SPEC_ID = 'KS-KRMS-TERM-SPEC-10021',
       DESC_TXT = 'Matching Course Set Term'
 Where TERM_ID = 'KS-KRMS-TERM-13425'
/

Update KRMS_TERM_PARM_T set NM = 'kuali.term.parameter.type.course.cluSet.id',
VAL = 'e5f1c380-04f8-c548-e040-007f0101104a'
Where TERM_ID ='KS-KRMS-TERM-13425'
and TERM_PARM_ID ='KS-KRMS-TERM-PARM-13472'
/

Update KRMS_PROP_T set TYP_ID = (SELECT TYP_ID FROM KRMS_TYP_T WHERE NM = 'kuali.krms.proposition.type.final.exam.courseset')
Where PROP_ID ='KS-KRMS-PROP-14730'
and RULE_ID ='KS-KRMS-RULE-12039'
/


--new Rule
Insert into KRMS_RULE_T (ACTV,DESC_TXT,NM,NMSPC_CD,PROP_ID,RULE_ID,TYP_ID,VER_NBR)
  values ('Y',null,concat(concat('kuali.atp.type.Fall:',(SELECT TYP_ID FROM KRMS_TYP_T WHERE NM = 'kuali.krms.rule.type.final.exam.course.offering.driven')), ':18'),'KS-SYS',null,'KS-KRMS-RULE-12090',(SELECT TYP_ID FROM KRMS_TYP_T WHERE NM = 'kuali.krms.rule.type.final.exam.course.offering.driven'),1)
/

INSERT INTO KRMS_AGENDA_ITM_T (AGENDA_ID,AGENDA_ITM_ID,RULE_ID,VER_NBR)
  VALUES ('KS-KRMS-AGENDA-11924','KS-KRMS-AGENDA-ITM-12083','KS-KRMS-RULE-12090',1)
/

UPDATE KRMS_AGENDA_ITM_T set WHEN_FALSE = 'KS-KRMS-AGENDA-ITM-12083' WHERE AGENDA_ITM_ID = 'KS-KRMS-AGENDA-ITM-12082'
/

Insert into KRMS_PROP_T (CMPND_OP_CD,DESC_TXT,PROP_ID,RULE_ID,TYP_ID,VER_NBR,DSCRM_TYP_CD,CMPND_SEQ_NO)
values (null,'Final exam timeslot','KS-KRMS-PROP-14811','KS-KRMS-RULE-12090',(SELECT TYP_ID FROM KRMS_TYP_T WHERE NM = 'kuali.krms.proposition.type.final.exam.courseset'),1,'S',1)
/

UPDATE KRMS_RULE_T set PROP_ID = 'KS-KRMS-PROP-14811' where RULE_ID like 'KS-KRMS-RULE-12090'
/
Insert into KRMS_PROP_PARM_T (PARM_TYP_CD,PARM_VAL,PROP_ID,PROP_PARM_ID,SEQ_NO,VER_NBR) values ('T','KS-KRMS-TERM-13490','KS-KRMS-PROP-14811','KS-KRMS-PROP-PARM-20462',0,1)
/
Insert into KRMS_PROP_PARM_T (PARM_TYP_CD,PARM_VAL,PROP_ID,PROP_PARM_ID,SEQ_NO,VER_NBR) values ('C','true','KS-KRMS-PROP-14811','KS-KRMS-PROP-PARM-20463',1,1)
/
Insert into KRMS_PROP_PARM_T (PARM_TYP_CD,PARM_VAL,PROP_ID,PROP_PARM_ID,SEQ_NO,VER_NBR) values ('O','=','KS-KRMS-PROP-14811','KS-KRMS-PROP-PARM-20464',2,1)
/

Insert into KRMS_TERM_T (DESC_TXT,TERM_ID,TERM_SPEC_ID,VER_NBR) values ('Matching Course Set Term','KS-KRMS-TERM-13490','KS-KRMS-TERM-SPEC-10021',1)
/
Insert into KRMS_TERM_PARM_T (TERM_ID,TERM_PARM_ID,NM,VAL,VER_NBR) values ('KS-KRMS-TERM-13490','KS-KRMS-TERM-PARM-13631','kuali.term.parameter.type.course.cluSet.id','e5f1c380-04f6-c548-e040-007f0101104a',1)
/


--Action to create day4 07:00 PM-09:00 PM Session  RDL
INSERT INTO KRMS_ACTN_T (ACTN_ID,NM,DESC_TXT,TYP_ID,RULE_ID,SEQ_NO,VER_NBR,NMSPC_CD)
  VALUES ('KS-KRMS-ACTN-10052','day407:00 PM-09:00 PM','Day 4: 7pm - 9pm',(SELECT TYP_ID FROM KRMS_TYP_T WHERE NM = 'kuali.krms.action.type.requested.delivery.logistic'),'KS-KRMS-RULE-12090',1,1,'KS-SYS')
/

INSERT INTO KRMS_ACTN_ATTR_T (ACTN_ATTR_DATA_ID, ACTN_ID, ATTR_DEFN_ID, ATTR_VAL, VER_NBR)
  VALUES ('KS-KRMS-ACTN-ATTR-10260', 'KS-KRMS-ACTN-10052', 'KS-KRMS-ATTR-DEFN-10000', '4', 1)
/
INSERT INTO KRMS_ACTN_ATTR_T (ACTN_ATTR_DATA_ID, ACTN_ID, ATTR_DEFN_ID, ATTR_VAL, VER_NBR)
  VALUES ('KS-KRMS-ACTN-ATTR-10261', 'KS-KRMS-ACTN-10052', 'KS-KRMS-ATTR-DEFN-10001', '68400000', 1)
/
INSERT INTO KRMS_ACTN_ATTR_T (ACTN_ATTR_DATA_ID, ACTN_ID, ATTR_DEFN_ID, ATTR_VAL, VER_NBR)
  VALUES ('KS-KRMS-ACTN-ATTR-10262', 'KS-KRMS-ACTN-10052', 'KS-KRMS-ATTR-DEFN-10002', '75600000', 1)
/
INSERT INTO KRMS_ACTN_ATTR_T (ACTN_ATTR_DATA_ID, ACTN_ID, ATTR_DEFN_ID, ATTR_VAL, VER_NBR)
  VALUES ('KS-KRMS-ACTN-ATTR-10263', 'KS-KRMS-ACTN-10052', 'KS-KRMS-ATTR-DEFN-10003', 'b34b96b2-459d-4621-bf92-02ae19386fb2', 1)
/
INSERT INTO KRMS_ACTN_ATTR_T (ACTN_ATTR_DATA_ID, ACTN_ID, ATTR_DEFN_ID, ATTR_VAL, VER_NBR)
  VALUES ('KS-KRMS-ACTN-ATTR-10264', 'KS-KRMS-ACTN-10052', 'KS-KRMS-ATTR-DEFN-10004', '24874269-da07-4a32-bdaf-eab459fb2612', 1)
/