<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns:aop="http://www.springframework.org/schema/aop"
  xsi:schemaLocation="
http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.5.xsd">

    <import resource="classpath:ks-data-dictionary-services-configuration.xml" />
    <import resource="classpath:ks-data-dictionary-validator-configuration.xml" />
    <!-- Add the myplan data dictionaries -->
    <import resource="classpath:ks-degree-audit-data-dictionary-services-configuration.xml" />
    <import resource="classpath:ks-academic-plan-data-dictionary-services-configuration.xml" />
    <import resource="classpath:ks-academic-plan-daos.xml" />

    <!-- Infrastructure code which handles invocation for all service impls -->
    <bean id="layeringAspects" class="org.kuali.student.enrollment.class1.lpr.service.aspect.ServiceAspects">
        <property name="includeThrowableClassList">
            <list>
                <ref bean="kualiInvalidParamException" />
                <ref bean="kualiReadOnlyException" />
                <ref bean="kualiOperationFailedException" />
            </list>
        </property>
    </bean>

    <!-- declare all service exceptions here or in KS core -->
    <bean id="kualiInvalidParamException" class="org.kuali.student.r2.common.exceptions.InvalidParameterException" />
    <bean id="kualiOperationFailedException" class="org.kuali.student.r2.common.exceptions.OperationFailedException" />
    <bean id="kualiReadOnlyException" class="org.kuali.student.r2.common.exceptions.ReadOnlyException" />

    <!-- Academic Plan Service -->
    <bean id="academicPlanServicePersistence" class="org.kuali.student.myplan.academicplan.service.AcademicPlanServiceImpl">
        <property name="learningPlanDao" ref="learningPlanDao"/>
        <property name="learningPlanTypeDao" ref="learningPlanTypeDao"/>
        <property name="planItemDao" ref="planItemDao"/>
        <property name="planItemTypeDao" ref="planItemTypeDao"/>
        <!-- <property name="courseService" ref="courseService" /> -->
    </bean>

    <!-- Academic Plan Service Decorators -->
    <bean id="academicPlanServiceValidator" class="org.kuali.student.myplan.academicplan.service.AcademicPlanServiceValidationDecorator">
        <property name="nextDecorator" ref="academicPlanServicePersistence" />
        <property name="validator" ref="validator"/>
        <property name="dataDictionaryService" ref="dataDictionaryServiceForAcademicPlanService"/>
    </bean>

    <alias name="academicPlanServiceValidator" alias="academicPlanService" />

    <!--  Wait on authorization decorator for now.
    <bean id="permissionService" class="org.kuali.rice.kim.service.impl.PermissionServiceImpl" />

    <bean id="academicPlanService"
            class="org.kuali.student.myplan.service.AcademicPlanServiceAuthorizationDecorator">
        <property name="nextDecorator" ref="academicPlanServiceValidation" />
        <property name="permissionService" ref="permissionService" />
    </bean>
  -->
</beans>
